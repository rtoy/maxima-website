<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="© 2002–2015 Maxima CAS development team." />
<title>Maxima user interface tips // Maxima CAS</title>
<link rel="stylesheet" href="main.css" />
<link rel="shortcut icon" href="i/favicon.ico" media="all" />
<link rel="alternate" type="application/rss+xml" title="Maxima News" href="feed.xml" />
</head>
<body>
<p class="langnav">
<a href="es/index.html" xml:lang="es" lang="es">Español</a> · <a href="ru/index.html" xml:lang="ru" lang="ru">Русский</a>
</p>
<h1>
<a href="index.html" title="Go to the main page">
<img src="i/logo.png" alt="MξΣ" width="135" height="135" class="mks" />
</a> <a href="index.html" title="Go to the main page">Maxima, a Computer Algebra System</a>
</h1>
<ul class="nav">
<li>
<a href="documentation.html">Documentation</a>
</li>
<li>
<a href="faq.html">FAQ</a>
</li>
<li>
<a href="screenshots.html">Screen Shots</a>
</li>
<li>
<a href="download.html">Download</a>
</li>
<li>
<a href="http://sourceforge.net/p/maxima/bugs/">Report Bugs</a>
</li>
<li>
<a href="http://sourceforge.net/projects/maxima">Maxima Developers' Site</a>
</li>
<li>
<a href="3rdpartycode.html">Third Party Code</a>
</li>
<li>
<a href="relatedprojects.html">Related Projects</a>
</li>
<li>
<a href="lisp.html">Lisp Links</a>
</li>
<li>
<a href="compalg.html">Computer Algebra</a>
</li>
<li>
<a href="http://sourceforge.net/p/maxima/wiki/Home/">Wiki</a>
</li>
<li style="border: none">
<a href="maximalist.html">Mailing Lists</a>
</li>
<li class="sflink">
<a href="http://sourceforge.net/projects/maxima" title="Project page at SourceForge.net">
<img src="http://sflogo.sourceforge.net/sflogo.php?group_id=4933&amp;type=10" alt="Get Maxima -- GPL CAS based on DOE-MACSYMA at SourceForge.net. Fast, secure and Free Open Source software downloads" />
</a>
</li>
</ul>
<div class="body">
<h2 style="padding-top: 0; margin-top: 0">Maxima user interface tips</h2>
<h3 style="margin-top: 0; padding-top: 0">
<code>describe</code> shortcut</h3>
<p>The <code>describe</code> command, e.g.,
<code>describe(integrate);</code> can be shortened to “<code>?
</code>”, i.e., “<code>? integrate</code>”.</p>
<p>Unfortunately, this shortcut contains two exceptions to Maxima's
usual input rules:</p>
<ul>
<li>Unlike practically every other input line in Maxima, the line does
not require a semi-colon or dollar sign to signify the end of the
entry.</li>
<li>The space is significant; “<code>?integrate</code>” has a separate
meaning from “<code>? integrate</code>”; the former calls the Lisp
function “<code>integrate</code>”.</li>
</ul>
<h3>
<code>:lisp</code> shortcut</h3>
<p>Individual Lisp commands may be entered by starting the input line
with “<code>:lisp</code>”. Ordinarily, one enters Lisp mode with
<code>to_lisp()</code>:</p>
<pre>(%i1) to_lisp();
Type (to-maxima) to restart

MAXIMA&gt; (format t "hello from lisp~%")
hello from lisp
NIL
MAXIMA&gt; (setf foo 1)
;
Warning:  Declaring FOO special.
1
MAXIMA&gt; (to-maxima)
Returning to Maxima
(%o1)                                TRUE
(%i2)</pre>
<p>The above example is equivalent to</p>
<pre>(%i1) :lisp (format t "hello from lisp~%")
hello from lisp
NIL
(%i1) :lisp (setf foo 1)
Warning:  Declaring FOO special.

1
(%i1)</pre>
<p>Note that <code>:lisp</code> lines to not need to end with
semi-colons or dollar signs.</p>
<h3>Input and output labels</h3>
<p>Before Maxima 5.9.1, the input and output labels were
<code>C1</code>, <code>C2</code>, etc. and <code>D1</code>,
<code>D2</code>, etc., respectively. Starting with 5.9.1, the
<code>C</code> and <code>D</code> characters have been changed to
<code>%i</code> and <code>%o</code>. The prompts are customizable via
the <code>inchar</code> and <code>outchar</code> variables.</p>
<p>For example, the pre-5.9.1 behavior can be restored via</p>
<pre>inchar:C; outchar:D;</pre>
<p>Even though the variable names imply that they should evaluate to a
single character, the prompts may have arbitrary lengths. For
example,</p>
<pre>inchar:long_input_label; outchar:long_output_label;</pre>
<p>are also legal values.</p>
<h3>Re-enabling the Lisp debugger in Maxima</h3>
<p>As of Maxima 5.9.1, Lisp errors will cause the user to be dumped
into the Lisp debugger. The Lisp debugger can be re-enabled by setting
the <code>*debugger-hook*</code> variable in Lisp to <code>nil</code>,
i.e.,</p>
<pre>(setf *debugger-hook* nil)</pre>
<p>To restore Maxima's default behavior, set
<code>*debugger-hook*</code> to point to the function
<code>maxima-lisp-debugger</code>, i.e.,</p>
<pre>(setf *debugger-hook* #'maxima-lisp-debugger)</pre>
<h3>Environment variables</h3>
<p>Maxima uses several environment variables. The following
description comes from the man page:</p>
<dl>
<dt>
<code>MAXIMA_USERDIR</code>
</dt>
<dd>Points to a directory for user customization files. Maxima's
default search paths include <code>MAXIMA_USERDIR</code>. Default
value: <code>$HOME/.maxima</code>.</dd>

<dt>
<code>MAXIMA_PREFIX</code>
</dt>
<dd>Maxima looks for its input files in the directory configured at
compile time, <code>/home/amundson/opt/maxima</code>. Maxima can be
relocated to a different directory as long as the Maxima script
maintains the same relative position with respect to the Maxima input
files. If, for some reason, the Maxima script needs to be relocated
independently, <code>MAXIMA_PREFIX</code> needs to be set to point to
the top of the tree holding the input files.</dd>

<dt>
<code>MAXIMA_DIRECTORY</code>
</dt>
<dd>
<code>MAXIMA_DIRECTORY</code> is equivalent to
<code>MAXIMA_PREFIX</code>. It is included only for backward
compatibility with older versions of Maxima.</dd>
</dl>
<p>Maxima uses several other environment variables for communication
between the Maxima script and the Lisp image. All such variables start
with <code>MAXIMA_</code>. They should not need to be modified by the
user.</p>
<h3>Customization files</h3>
<p>Maxima checks for the presence of the files
<code>maxima-init.lisp</code> and <code>maxima-init.mac</code> in the
search path and loads them if available. The most logical place to put
these files is in <code>MAXIMA_USERDIR</code>, as defined above.</p>
<p>An example <code>maxima-init.lisp</code> that re-enables the Lisp
debugger:</p>
<pre>(setf *debugger-hook* nil)
(format t "*** My personal maxima-init.lisp has been loaded ***~%")</pre>
<p>An example <code>maxima-init.mac</code> that enables gnuplot's
<code>pm3d</code> mode:</p>
<pre>set_plot_option([gnuplot_pm3d,true]);
print("*** My very own personal maxima-init.mac has been loaded. ***");</pre>
<p>The <code>print</code>/<code>format</code> statements are useful
for debugging. They can be removed once the init files are established
to be working.</p>
<h3>Customizing the display of equations</h3>
<p>The Maxima variables <code>display2d</code>, stardisp and linel
allow for customization of the display of equations.</p>
<p>
<code>display2d</code> is a boolean controlling the formatting of
displayed equations:</p>
<pre>(%i1) display2d;

(%o1)                                TRUE
(%i2) x/(y^2+z^2);

                                       x
(%o2)                               -------
                                     2    2
                                    z  + y
(%i3) display2d:false;

(%o3) FALSE
(%i4) x/(y^2+z^2);

(%o4) x/(z^2+y^2)</pre>
<p>
<code>stardisp</code> controls whether spaces or <code>*</code>'s
are used to represent multiplication:</p>
<pre>(%i1) stardisp;

(%o1)                                FALSE
(%i2) a*b*c;

(%o2)                                a b c
(%i3) stardisp:true;

(%o3)                                TRUE
(%i4) a*b*c;

(%o4)                                a*b*c</pre>
<p>
<code>linel</code> controls the number of characters per line:</p>
<pre>(%i1) linel;

(%o1)                                 79
(%i2) ratexpand((x+y+z)^3);

       3        2        2      2                  2      3        2      2
(%o2) z  + 3 y z  + 3 x z  + 3 y  z + 6 x y z + 3 x  z + y  + 3 x y  + 3 x  y

                                                                              3
                                                                           + x
(%i3) linel:40;

(%o3)              40
(%i4) ratexpand((x+y+z)^3);

       3        2        2      2
(%o4) z  + 3 y z  + 3 x z  + 3 y  z

                2      3        2
 + 6 x y z + 3 x  z + y  + 3 x y

      2      3
 + 3 x  y + x</pre>
</div>
<div class="footer">
<p>Questions about Maxima or this site: <a href="maximalist.html">mailing list at sourceforge.net</a>
</p>
</div>
</body>
</html>