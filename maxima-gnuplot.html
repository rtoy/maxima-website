<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="true">
<meta name="copyright" content="© 2002–2017 Maxima CAS development team.">
<meta name="keywords" content="Maxima, CAS, computer algebra, mathematics, Lisp, symbolic computation">
<title>Maxima - Third Party Code</title>
<!-- This site uses Bootstrap http://getbootstrap.com -->
<link rel="stylesheet" href="./css/bootstrap.min.css">
<link rel="shortcut icon" href="./i/favicon.ico" media="all">
<style type="text/css">
.mx-content {background:#f2f2f2;color:#333;padding: 0 1.5em 1.5em 1.5em;}
</style>
</head>
<body style="padding-top:50px;" id="top">
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>
<!-- Begin navigation bar -->
<header class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>                        
      </button>
      <a href="./index.html" class="navbar-brand"
      style="padding: 0 0.75rem 0 1.5rem"><img src="./i/logo.png" width="56"
      height="56" alt="Maxima" title="Go to homepage"></a>
    </div>
    <nav class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li><a href="./download.html">Downloads</a></li>
        <li><a href="./documentation.html">Documentation</a></li>
        <li><a href="./project.html" >Project</a></li>
        <li><a href="#top" >Page Top</a></li>
      </ul>
    </nav>
  </div>
</header>
<!-- End navigation bar -->

<!-- Begin page -->
<div class="container-fluid">
  <!-- Begin content row -->
  <div class="row">
    <!-- Begin content column -->
    <div class="col-sm-9 col-md-8 mx-content" id="content">
<h2 style="padding-top: 0; margin-top: 0">Examples of the Maxima Gnuplot interface</h2>
<h3 style="margin-top: 0; padding-top: 0">Basic usage</h3>
<p>The Maxima-Gnuplot interface offers three terminal choices:
<em>default</em>, <em>ps</em> and <em>dumb</em>.</p>
<pre>plot2d(sin(x),[x,0,2*%pi]);</pre>
<p>
<img src="i/plotting/sin-screenshot.png" alt="sin(x) plot" />
</p>
<pre>plot2d(sin(x),[x,0,2*%pi],[gnuplot_term,ps],[gnuplot_out_file,"sin.eps"]);</pre>
<p>
<a href="i/plotting/sin.eps">
<img src="i/plotting/sin.png" alt="sin(x) plot" />
</a>
</p>
<p>
<em>Click on the above image to see The actual postscript file</em>.</p>
<pre>plot2d(sin(x),[x,0,2*%pi],[gnuplot_term,dumb]);



    1 ++--------+--$$$$$$$+---------+---------+---------+---------+--------++
      +         $$$      $$$        +         +         +     SIN(x) $$$$$$ +
      |       $$$           $$                                              |
      |      $$              $$$                                            |
  0.5 ++   $$                  $$                                          ++
      |   $$                    $$                                          |
      |  $$                      $$                                         |
      | $$                         $$                                       |
      |$$                           $$                                      |
    0 $+                             $$                             $$     ++
      |                               $$                           $$       |
      |                                $$                         $$        |
      |                                 $$                       $$         |
 -0.5 ++                                  $$                    $$         ++
      |                                    $$                  $            |
      |                                     $$               $$             |
      |                                       $$           $$$              |
      +         +         +         +         +$$$$     +$$$      +         +
   -1 ++--------+---------+---------+---------+---$$$$$$$---------+--------++
      0         1         2         3         4         5         6         7</pre>
<p>Those of us who remember when “vt100” was not just a menu item in a
terminal editor, but an actual thing that would hurt to drop on your
foot, should find the following picture nostalgic.</p>
<p>
<img src="i/plotting/sin-nostalgic.png" alt="sin(x) nostalgic plot" />
</p>
<h3>More advanced usage</h3>
<p>The adaptive plotting routines (based on an algorithm from <a href="http://yacas.sourceforge.net/">Yacas</a>) allow plotting of
functions with singularities.</p>
<pre>plot2d([gamma(x),1/gamma(x)],[x,-4.5,5],[y,-10,10],
[gnuplot_preamble,"set key bottom"]);</pre>
<p>
<img src="i/plotting/gamma-screenshot.png" alt="gamma(x) and 1/gamma(x) plots" />
</p>
<p>It is now possible to take advantage of the advanced features of
Gnuplot. Note the tick labels on the horizontal axis in the following
figure.</p>
<pre>plot2d([cos(x),sin(x),tan(x),cot(x)],[x,-2*%pi,2*%pi],[y,-2,2],
[gnuplot_preamble,"set xzeroaxis; set xtics ('-2pi' -6.283, '-3pi/2' -4.712,
'-pi' -3.1415, '-pi/2' -1.5708,  '0' 0,'pi/2' 1.5708, 'pi' 3.1415,'3pi/2' 4.712,
'2pi' 6.283)"]);</pre>
<p>
<img src="i/plotting/trig-screenshot.png" alt="cos(x), sin(x), tan(x), cot(x) plots" />
</p>
<p>The postscript version of the previous figure can take advantage of
Gnuplot's enhanced postscript terminal.</p>
<pre>plot2d([cos(x),sin(x),tan(x)],[x,-2*%pi,2*%pi],[y,-2,2],
[gnuplot_preamble,"set xzeroaxis; set xtics ('-2{/Symbol p}' -6.283,
'-3{/Symbol p}/2' -4.712, '-{/Symbol p}' -3.1415, '-{/Symbol p}/2' -1.5708,
'0' 0,'{/Symbol p}/2' 1.5708, '{/Symbol p}' 3.1415,'3{/Symbol p}/2' 4.712,
'2{/Symbol p}' 6.283)"],[gnuplot_term,ps],[gnuplot_out_file,"trig.eps"]);</pre>
<p>
<a href="i/plotting/trig.eps">
<img src="i/plotting/trig.png" alt="cos(x), sin(x), tan(x) plots" />
</a>
</p>
<p>Click on the above image to see the actual postscript file.</p>
<h3>3D plotting and pm3d</h3>
<h4 style="margin-top: 0; padding-top: 0">Plotting without pm3d</h4>
<p>The default three-dimensional plotting generates a mesh. It works
with all versions of Gnuplot.</p>
<pre>plot3d(atan(-x^2+y^3/4),[x,-4,4],[y,-4,4],[grid,50,50]);</pre>
<p>
<img src="i/plotting/surface.png" alt="atan(-x^2+y^3/4) plot" />
</p>
<h4>Plotting with pm3d</h4>
<p>Gnuplot 4.0 includes pm3d, which provides many advanced options for
three- and four-dimensional plotting. Use of pm3d is turned off by
default because Gnuplot 4.0 is not yet commonly installed. If Gnuplot
4.0 is installed, Maxima can take advantage of the features in
pm3d.</p>
<p>The default plot with pm3d includes a mesh and a colored surface.</p>
<pre>plot3d(atan(-x^2+y^3/4),[x,-4,4],[y,-4,4],[grid,50,50],[gnuplot_pm3d,true]);</pre>
<p>
<img src="i/plotting/surface-pm3d.png" alt="atan(-x^2+y^3/4) plot" />
</p>
<p>Several variations are possible. Here is one with no mesh and
contours on at the base.</p>
<pre>plot3d(atan(-x^2+y^3/4),[x,-4,4],[y,-4,4],[grid,50,50],[gnuplot_pm3d,true],
[gnuplot_preamble,"set pm3d at s;unset surface;set contour;set cntrparam levels
20;unset key"]);</pre>
<p>
<img src="i/plotting/surface-pm3d-1.png" alt="atan(-x^2+y^3/4) plot" />
</p>
<p>The following variation includes the mesh and puts the colors on
the base.</p>
<pre>plot3d(atan(-x^2+y^3/4),[x,-4,4],[y,-4,4],[grid,50,50],[gnuplot_pm3d,true],
[gnuplot_preamble,"set pm3d at b"]);</pre>
<p>
<img src="i/plotting/surface-pm3d-2.png" alt="atan(-x^2+y^3/4) plot" />
</p>
<p>Some functions are too complicated to be practically visualized
with a mesh.</p>
<pre>plot3d(cos(-x^2+y^3/4),[x,-4,4],[y,-4,4],[grid,150,150]);</pre>
<p>
<img src="i/plotting/badsurface.png" alt="cos(-x^2+y^3/4) plot" />
</p>
<p>However, the above function can be effectively visualized using
pm3d's “map view”.</p>
<pre>plot3d(cos(-x^2+y^3/4),[x,-4,4],[y,-4,4],
[gnuplot_preamble,"set view map; unset surface"],
[gnuplot_pm3d,true],[grid,150,150]);</pre>
<p>
<img src="i/plotting/map.png" alt="cos(-x^2+y^3/4) plot" />
</p>
    </div>
    <!-- End content column -->
    <!-- Begin info and menu column -->
    <div class="col-sm-3 col-md-4 hidden-print">
      <!-- Begin menu list -->
      <ul class="nav nav-pills nav-stacked">
        <li><a href="./index.html">Home</a></li>
        <li class="dropdown"><a class="dropdown-toggle"
        data-toggle="dropdown" href="./documentation.html">Documentation
        <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="./documentation.html">Maxima Documentation</a></li>
          <li><a href="./faq.html">FAQ</a></li>
          <li><a href="./compalg.html">Computer Algebra Systems</a></li>
          <li><a href="./lisp.html">Lisp Links</a></li>
        </ul>
        </li>
        <li class="dropdown"><a class="dropdown-toggle"
        data-toggle="dropdown" href="./project.html">Project
        <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="./project.html">Maxima project</a></li>
          <li><a href="3rdpartycode">Third Party Code</a></li>
          <li><a href="./relatedprojects.html">Related Projects</a></li>
        </ul>
        </li>
        <li><a href="./download.html">Download</a></li>
        <li><a href="./maximalist.html">Mailing Lists</a></li>
      </ul>
      <!-- End menu list -->
    </div>
    <!-- End info and menu column -->
  </div>
  <!-- End content row -->
</div>
<!-- End page -->
<br>
<!-- Begin project info -->
<footer>
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-9 col-md-8 text-center">
        <p>Questions about Maxima or this site: <a href="./maximalist.html">mailing
        list</a></p>
        <p><a href="https://sourceforge.net/projects/maxima" >Hosted at
        Sourceforge</a></p>
      </div>
    </div>
  </div>
</footer>
<!-- End project info -->
<!-- Scripts section -->
<script src="./js/jquery.min.js"></script>
<script src="./js/bootstrap.min.js"></script>
</body>
</html>