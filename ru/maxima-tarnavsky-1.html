<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="© 2002–2014 Команда разработчиков Maxima." />
<title>Тихон Тарнавский. Maxima — максимум свободы символьных вычислений // Maxima CAS</title>
<link rel="stylesheet" href="../main.css" />
<link rel="shortcut icon" href="../i/favicon.png" media="all" />
<link rel="alternate" type="application/rss+xml" title="Новости Maxima" href="feed.xml" />
</head>
<body>
<p class="langnav">
<a href="../index.html" xml:lang="en" lang="en">English</a> · <a href="../es/index.html" xml:lang="es" lang="es">Español</a>
</p>
<h1>
<a href="/ru/" title="Перейти на главную страницу">
<img src="../i/logo.png" alt="MξΣ" width="135" height="135" class="mks" />
</a> <a href="/ru/" title="Перейти на главную страницу">Система компьютерной алгебры Maxima</a>
</h1>
<ul class="nav">
<li>
<a href="documentation.html">Документация</a>
</li>
<li>
<a href="faq.html">Ответы на часто задаваемые вопросы</a>
</li>
<li>
<a href="screenshots.html">Снимки экрана</a>
</li>
<li>
<a href="download.html">Загрузка</a>
</li>
<li>
<a href="http://sourceforge.net/p/maxima/bugs/">Отчеты об ошибках</a>
</li>
<li>
<a href="http://sourceforge.net/projects/maxima">Сайт разработчиков</a>
</li>
<li>
<a href="3rdpartycode.html">Дополнительные пакеты</a>
</li>
<li>
<a href="relatedprojects.html">Связанные проекты</a>
</li>
<li>
<a href="lisp.html">Ссылки по Lisp</a>
</li>
<li>
<a href="compalg.html">Компьютерная алгебра</a>
</li>
<li>
<a href="http://sourceforge.net/p/maxima/wiki/Home/">Wiki</a>
</li>
<li style="border: none">
<a href="maximalist.html">Списки рассылки</a>
</li>
<li class="sflink">
<a href="http://sourceforge.net/projects/maxima" title="Project page at SourceForge.net">
<img src="http://sflogo.sourceforge.net/sflogo.php?group_id=4933&amp;type=10" alt="Get Maxima -- GPL CAS based on DOE-MACSYMA at SourceForge.net. Fast, secure and Free Open Source software downloads" />
</a>
</li>
</ul>
<div class="body">
<h2 style="padding-top: 0; margin-top: 0">Тихон Тарнавский. Maxima — максимум свободы символьных вычислений</h2>
<p>Впервые было опубликовано в «<a href="http://www.linuxformat.ru/">Linux Format</a>» <a href="http://www.linuxformat.ru/download/81.pdf">№7 (81), июль 2006 г</a>.</p>
<div class="hl">
<h3 class="hlh">Что такое символьные вычисления</h3>
<p>Так как в этом цикле статей речь пойдет о математической программе для символьных вычислений, для начала пару слов о том, что из себя представляют эти самые символьные или, как их еще называют, аналитические вычисления, в отличие от численных расчетов. Компьютеры, как известно, оперируют с числами (целыми и с плавающей запятой). К примеру, решения уравнения <var>x</var>
<sup>2</sup> = 2<var>x</var> + 1 можно получить как −0.41421356 и 2.41421356, а 3<var>x</var> = 1 — как 0.33333333. А ведь хотелось бы увидеть не приближенную цифровую запись, а точную величину, т. е. 1±√2 в первом случае и 1/3 во втором. С этого простейшего примера и начинается разница между численными и символьными вычислениями. Но кроме этого, есть еще задачи, которые вообще невозможно решить численно. Например, параметрические уравнения, где в виде решения нужно выразить неизвестное через параметр; или нахождение производной от функции; да практически любую достаточно общую задачу можно решить только в символьном виде. Поэтому неудивительно, что и для такого класса задач появились компьютерные программы, оперирующие уже не только числами, а почти любыми математическими объектами, от векторов до тензоров, от функций до интегро-дифференциальных уравнений и т. д.</p>
</div>
<h3>Максима в науке и образовании</h3>
<p>Среди математического ПО для аналитических (символьных) вычислений наиболее широко известно коммерческое (<em>Maple</em>, <em>Mathematica</em>); это очень мощный инструмент для ученого или преподавателя, аспиранта или студента, позволяющий автоматизировать наиболее рутинную и требующую повышенного внимания часть работы, оперирующий при этом аналитической записью данных, т. е. фактически математическими формулами. Такую программу можно назвать средой программирования, с той разницей, что в качестве элементов языка программирования выступают привычные человеку математические обозначения.</p>
<p>Программа, которая стала темой статьи, работает на тех же принципах и предоставляет похожий функционал; самое радикальное ее отличие — то, что она не является ни коммерческой, ни закрытой. Другими словами, речь идет о свободной программе. На самом деле использование свободного ПО более естественно для фундаментальной науки, нежели коммерческого, так как модель, которая используется в свободном ПО — это модель открытости и общедоступности всех наработок. Очевидно, эти же свойства присущи и результатам научной деятельности. Используя такую схожесть подходов, можно фактически рассматривать расширения функционала свободных программ или дополнительные библиотеки, которые могут создаваться для своих нужд в процессе научных исследований, как неотъемлемую часть результатов таких исследований. И эти результаты могут использоваться и распространяться на усмотрение пользователя без оглядки на ограничения, налагаемые лицензиями исходного ПО. В случае же коммерческого ПО, которое находится в собственности его производителя, такого рода свободы значительно ограничены, начиная от невозможности свободно (и законно) передавать само такое ПО вместе с наработками и вплоть до возможных патентных исков от компании-разработчика ПО в случае распространения самодельных дополнительных библиотек к нему.</p>
<p>С другой стороны, основное направление, кроме научных разработок, где такие программы востребованы — это высшее образование; а использование для учебных нужд именно свободного ПО — это реальная возможность и для вуза, и для студентов и преподавателей иметь в своем распоряжении легальные копии такого ПО без больших, и даже сколь-нибудь существенных, денежных затрат.</p>
<p>Эта статья открывает цикл, посвященный свободной программе аналитических вычислений <em>Maxima</em>. Этим циклом я постараюсь дать вам наиболее полное впечатление о программе: он будет посвящен как принципам и основам работы с Maxima, так и описанию более широких ее возможностей и практическим примерам.</p>
<div class="hl">
<h3 class="hlh">Немного истории</h3>
<p>История проекта, известного ныне под именем Maxima, началась еще в конце 60-х годов в легендарном MIT (Massachusetts Institute of Technology — Массачусетский Технологический институт), когда в рамках существовавшего в те годы большого проекта MAC началась работа над программой символьных вычислений, которая получила имя Macsyma (от MAC Symbolic MAnipulation). Архитектура системы была разработана к июлю 1968 г., непосредственно программирование началось в июле 1969. в качестве языка для разработки системы был выбран Lisp, и история показала, насколько это был правильный выбор: из существующих в то время языков программирования он единственный продолжает развиваться и сейчас — спустя почти полвека после старта проекта. Принципы, положенные в основу проекта, позднее были заимствованы наиболее активно развивающимися ныне коммерческими программами — Mathematica и Maple; таким образом, Macsyma фактически стала родоначальником всего направления программ символьной математики. Естественно, Macsyma была закрытым коммерческим проектом; его финансировали государственные и частные организации, среди которых были вошедшее в историю ARPA (Advanced Research Projects Agency; помните ARPAnet — предок интернета?), Энергетический и Оборонный Департаменты США (Departments of Energy &amp; Defence, DOE and DOD). Проект активно развивался, а организации, контролирующие его, менялись не раз, как это всегда бывает с долгоживущими закрытыми проектами. в 1982 году профессор уильям Шелтер (William Schelter) начал разрабатывать свою версию на основе этого же кода, под названием Maxima. в 1998 году Шелтеру удалось получить от DOE права на публикацию кода по лицензии GPL. Первоначальный проект Macsyma прекратил свое существование в 1999 году. Уильям Шелтер продолжал заниматься разработкой Maxima вплоть до своей смерти в 2001 году. Но, что характерно для открытого ПО, проект не умер вместе со своим автором и куратором. Сейчас проект продолжает активно развиваться, и участие в нем является лучшей визитной карточкой для математиков и программистов всего мира.</p>
</div>
<h3>Пару слов о программе</h3>
<p>На данный момент Maxima выпускается под две платформы: Unix-совместимые системы, т. е. Linux и *BSD, и MS Windows. Я, конечно же, буду вести речь о Linux-версии.</p>
<p>Сама по себе Maxima — консольная программа, и все математические формулы отрисовывает обычными текстовыми символами. В этом есть как минимум два плюса. С одной стороны, саму Maxima можно использовать как ядро, надстраивая поверх нее графические интерфейсы на любой вкус. Их на сегодняшний день существует немало; в этот раз я остановлюсь на двух самых популярных (см. врезку) — и наиболее наглядных и удобных в работе, а об остальных поговорим в следующих выпусках; они тоже по-своему интересны, хотя более специфичны.</p>
<p>С другой стороны, сама по себе, без каких-либо интерфейсных надстроек, Maxima нетребовательна к железу и может работать на таких компьютерах, которые сейчас и за компьютеры уже никто не считает (это может оказаться актуальным, к примеру, для вуза или научной лаборатории, у которых денег на обновление парка машин скорее всего нет, а потребность в ПО для символьных вычислений возникнуть может).</p>
<p>Имена функций и переменных в Максиме чувствительны к регистру, то есть прописные и строчные буквы в них различаются. Это не будет в новинку любому, кто уже имел дело с POSIX-совместимыми системами или с такими языками программирования, как, скажем, C или Perl. Удобно это и с точки зрения математика, для которого тоже привычно, что заглавными и строчными буквами могут обозначаться разные объекты (например, множества и их элементы, соответственно).</p>
<p>Для того, чтобы начать работать с программой, вам понадобится пакет Maxima; если в стандартных репозитариях вашего дистрибутива его не окажется, то взять его можно на сайте проекта, адрес которого приведен во врезке.</p>
<p>Принципы работы с программой не зависят от того, какой интерфейс к ней вы выберете, поэтому я постараюсь Максимально абстрагироваться от конкретного интерфейса, ограничиваясь лишь небольшими комментариями в тех случаях, когда они ведут себя по-разному.</p>
<p>На данный момент последняя версия программы — 5.9.3, именно о ней я и буду говорить; если в вашем дистрибутиве пока присутствует более старая версия, вы в принципе можете использовать ее: и актуальная еще несколько месяцев назад 5.9.2, и вышедшая в конце прошлого года 5.9.1 не имеют с нынешней принципиальных различий.</p>
<div class="hl">
<h3 class="hlh">Графические интерфейсы к Максиме</h3>
<p>С точки зрения ознакомления с самой Maxima наибольший интерес представляют два интерфейса.</p>
<p>Первый — это отдельная самостоятельная графическая программа по имени <em>
<a href="http://wxmaxima.sourceforge.net/">wxMaxima</a>
</em>. Она, как и сама Maxima, помимо Linux/*BSD существует еще и в версии для MS Windows. В wxMaxima вы вводите формулы в текстовом виде, а вывод Максимы отображается графически, привычными математическими символами. Кроме того, большой упор здесь сделан на удобство ввода: командная строка отделена от окна ввода-вывода, а дополнительные кнопки и система меню позволяют вводить команды не только в текстовом, но и в диалоговом режиме. Так называемое «автодополнение» в командной строке на самом деле с таковым имеет лишь то сходство, что вызывается клавишей «<kbd>Tab</kbd>». Ведет же оно себя, к сожалению, всего лишь как умная история команд, т. е. вызывает ту команду из уже введенных в этой сессии, которая начинается с заданных в командной строке символов, но не дополняет до имен команд и их параметров. Таким образом, этот интерфейс наиболее удобен в том случае, когда вам нужно много вычислять и видеть результаты на экране; и еще, возможно, в том случае, если вы не очень любите вводить все команды с клавиатуры. Кроме того, wxMaxima предоставляет удобный интерфейс к документации по системе; хотя, так как документация поставляется в формате html, вместо этого можно использовать обычный браузер.</p>
<p class="labeled-image">
<a href="i/tarnavsky/1/maxima-ifaces1.jpg">
<img src="i/tarnavsky/1/maxima-ifaces1-thumb.jpg" alt="wxMaxima" title="wxMaxima" />
</a>
</p>
<p>Второй достаточно интересный интерфейс к Maxima — это дополнительный режим в редакторе <em>
<a href="http://www.texmacs.org/">TeXmacs</a>
</em>. Хотя этот редактор имеет общее историческое прошлое с широко известным Emacs, что явствует из названия, но практического сходства между ними мало. TeXmacs разрабатывается для визуального редактирования текстов научной тематики, при котором вы видите на экране редактируемый текст практически в том же виде, в котором он будет распечатан. В частности, он имеет так называемый математический режим ввода, очень удобный для работы с самыми разнообразными формулами, и умеет импортировать/экспортировать текст в LaTeX и XML/HTML. Именно возможностями по работе с формулами пользуется Maxima, вызванная из TeXmacs’а. Фактически, формулы отображаются в привычной математической нотации, но при этом их можно редактировать и копировать в другие документы наподобие обыкновенного текста. Maxima-сессия вызывается из меню: «<em>вставить</em> → <em>Сессия</em> → <em>Maxima</em>», при этом появляется дополнительное меню с командами Максимы. После запуска сессии можно уже внутри нее перейти в математический режим ввода (меню режимов ввода вызывается первой кнопкой на панели ввода) и при вводе также использовать элементы математической нотации. Этот интерфейс будет наиболее удобен тем, кто хочет использовать результаты вычислений в своих текстах и любит редактировать их в визуальном режиме.</p>
<p class="labeled-image">
<a href="i/tarnavsky/1/maxima-ifaces2.jpg">
<img src="i/tarnavsky/1/maxima-ifaces2-thumb.jpg" alt="TeXmacs" title="TeXmacs" />
</a>
</p>
</div>
<h3>Приступаем к работе</h3>
<p>После запуска Maxima-сессии мы видим перед собой такие строки:</p>
<pre>Maxima restarted.
(%i1)</pre>
<p>Первая — это сообщение о том, что ядро Максимы только что запустилось (вместо нее, в зависимости от версии и конкретной сборки, может выводиться краткая информация о программе); вторая — приглашение к вводу первой команды. Команда в Максиме — это любая комбинация математических выражений и встроенных функций, завершенная, в простейшем случае, точкой с запятой. После ввода команды и нажатия «<kbd>Enter</kbd>» Maxima выведет результат и будет ожидать следующей команды:</p>
<p class="labeled-image">
<a href="i/tarnavsky/1/maxima1-01.png">
<img src="i/tarnavsky/1/maxima1-01-thumb.png" alt="" />
</a>
</p>
<p>Для арифметических действий используются традиционные обозначения: <kbd>-</kbd>, <kbd>+</kbd>, <kbd>*</kbd>, <kbd>/</kbd>; <kbd>**</kbd> или <kbd>^</kbd> для возведения в степень, <kbd>sqrt()</kbd> для квадратного корня.</p>
<p>Далее я часто буду пользоваться для наглядности упомянутым во врезке математическим режимом ввода редактора TeXmacs. К примеру, приведенный выше код выглядел бы так:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-02.png" alt="" />
</p>
<p>Если для каких-то обозначений будет неочевидно, как записать их в строку, я буду пояснять это по ходу изложения.</p>
<p>Как видите, каждая ячейка имеет свою метку; эта метка — заключенное в скобки имя ячейки. Ячейки ввода именуются как <kbd>%i</kbd> с номером (<kbd>i</kbd> от <em>input</em> — ввод), ячейки вывода — как <kbd>%o</kbd> с соответствующим номером (<kbd>o</kbd> от <em>output</em> — вывод). Со знака <kbd>%</kbd> начинаются все встроенные служебные имена: чтобы, с одной стороны сделать их достаточно короткими и удобными в использовании, а с другой — избежать возможных накладок с пользовательскими именами, которые тоже часто удобно делать короткими. Благодаря такому единообразию вам не придется запоминать, как часто бывает в других системах, какие из таких коротких и удобных имен зарезервированы программой, а какие вы можете использовать для своих нужд. К примеру, внутренними именами <kbd>%e</kbd> и <kbd>%pi</kbd> обозначены общеизвестные математические постоянные; а через <kbd>%c</kbd> с номером обозначаются константы, используемые при интегрировании, для которых использование буквы «c» традиционно в математике.</p>
<p>При вводе мы можем обращаться к любой из предыдущих ячеек по ее имени, подставляя его в любые выражения. Кроме того последняя ячейка вывода обозначается через <kbd>%</kbd>, а последняя ячейка ввода — через <kbd>_</kbd>. Это позволяет обращаться к последнему результату, не отвлекаясь на то, каков его номер.</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-03.png" alt="" />
</p>
<p>Здесь <kbd>%+47/59</kbd> — то же самое, что <kbd>%o1+47/59</kbd>.</p>
<p>Вывод результата вычисления не всегда нужен на экране; его можно заглушить, завершив команду символом <kbd>$</kbd> вместо <kbd>;</kbd>. Заглушенный результат при этом все равно вычисляется; как видите, в этом примере ячейки <kbd>%o1</kbd> и <kbd>%o2</kbd> доступны, хотя и не показаны (к ячейке <kbd>%o2</kbd> обращение идет через символ <kbd>%</kbd>, смысл которого расшифрован выше):</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-04.png" alt="" />
</p>
<p>Каждую следующую команду не обязательно писать с новой строки; если ввести несколько команд в одну строчку, каждой из них все равно будет соответствовать свое имя ячейки. К примеру, здесь в строке после метки <kbd>%i1</kbd> введены ячейки от <kbd>%i1</kbd> до <kbd>%i4</kbd>; в ячейке <kbd>%i3</kbd> используются <kbd>%i1</kbd> и <kbd>%i2</kbd> (обозначенная как <kbd>_</kbd> — предыдущий ввод):</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-05.png" alt="" />
</p>
<p>В wxMaxima и TeXmacs последнюю или единственную команду в строке можно не снабжать завершающим символом — это сработает так же, как если бы она была завершена <kbd>;</kbd> , т. е. вывод заглушен не будет. В дальнейших примерах я часто буду опускать <kbd>;</kbd> . Если вы выберете другой интерфейс, не забывайте ее добавлять.</p>
<p>Помимо использования имен ячеек, мы, естественно, можем и сами давать имена любым выражениям. По-другому можно сказать, что мы присваиваем значения переменным, с той разницей, что в виде значения такой переменной может выступать любое математическое выражение. Делается это с помощью двоеточия — знак равенства оставлен уравнениям, которые, учитывая общий математический контекст записи, проще и привычнее так читаются. И к тому же, так как основной конек Максимы — символьная запись и аналитические вычисления, уравнения достаточно часто используются. Например:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-06.png" alt="" />
</p>
<p>В каком-то смысле двоеточие даже нагляднее в таком контексте, чем знак равенства: это можно понимать так, что мы задаем некое обозначение, а затем через двоеточие расшифровываем, что именно оно обозначает. После того, как выражение поименовано, мы в любой момент можем вызвать его по имени:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-07.png" alt="" />
</p>
<p>Любое имя можно очистить от присвоенного ему выражения функцией <kbd>kill()</kbd>, и освободить занимаемую этим выражением память. Для этого нужно просто набрать <kbd>kill(name)</kbd>, где name — имя уничтожаемого выражения; причем это может быть как имя, назначенное вами, так и любая ячейка ввода или вывода. Точно так же можно очистить разом всю память и освободить все имена, введя <kbd>kill(all)</kbd>. В этом случае очистятся в том числе и все ячейки ввода-вывода, и их нумерация опять начнется с единицы. В дальнейшем, если по контексту будет иметься в виду логическое продолжение предыдущих строк ввода-вывода, я буду продолжать нумерацию (этим приемом я уже воспользовался выше). Когда же новый «сеанс» будет никак не связан с предыдущим, буду начинать нумерацию заново; это будет косвенным указанием сделать «<kbd>kill(all)</kbd>», если вы будете набирать примеры в Maxima, так как имена переменных и ячеек в таких «сеансах» могут повторяться.</p>
<h3>Доступ к документации Максимы</h3>
<p>В примерах выше мы воспользовались двумя встроенными функциями. Как нетрудно догадаться из контекста, <kbd>solve</kbd> — это функция решения уравнения, а <kbd>diff</kbd> — функция дифференцирования. Практически весь функционал Maxima реализован через такие встроенные функции. Функция в Maxima может иметь переменное число аргументов. Например, функция <kbd>solve</kbd>, которую мы использовали с одним аргументом, чаще вызывается с двумя аргументами. Первый задает уравнение или функцию, чьи корни надо найти; второй — переменную, относительно которой нужно решать уравнение:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-08.png" alt="" />
</p>
<p>Если формула, задающая решаемое уравнение, содержит только один символ, как в предыдущем примере, то второй аргумент можно опустить, так как выбор, относительно чего нужно решать уравнение, все равно однозначен.</p>
<p>Вторая функция из наших новых знакомых — <kbd>diff</kbd> — также может принимать один аргумент; в этом случае она находит дифференциал заданного выражения:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-09.png" alt="" />
</p>
<p>Через <kbd>del(x)</kbd> и <kbd>del(y)</kbd> здесь обозначены дифференциалы соответствующих символов.</p>
<p>Для каждой встроенной функции есть описание в документации по Maxima. Оно содержит сведения о том, какие аргументы и в каких вариантах принимает функция, а также описание ее действия в разных случаях и конкретные примеры применения. Но, конечно, искать описание каждой нужной функции в html-документации или info-страницах не всегда удобно, тем более, что нужна эта информация, как правило, прямо в процессе работы. Поэтому в Maxima есть специальная функция — <kbd>describe()</kbd>, которая выдает информацию из документации по конкретным словам. Более того, специально для удобства получения справочной информации существует сокращенная версия вызова этой функции: <kbd>?</kbd> name вместо <kbd>describe(name)</kbd>. Здесь <kbd>?</kbd> — это имя оператора, и аргумент нужно отделять от него пробелом (выражение <kbd>?name</kbd> используется для вызова функции Lisp с именем <kbd>name</kbd>). Функция <kbd>describe</kbd> и оператор <kbd>?</kbd> выдают список тех разделов помощи и имен функций, которые содержат заданный текст, после чего предлагают ввести номер того раздела или описания той функции, которые вы хотите посмотреть:</p>
<p class="labeled-image">
<a href="i/tarnavsky/1/maxima1-10.png">
<img src="i/tarnavsky/1/maxima1-10-thumb.png" alt="" />
</a>
</p>
<p>Когда вы выберете раздел, будет выдано его содержимое:</p>
<p class="labeled-image">
<a href="i/tarnavsky/1/maxima1-11.png">
<img src="i/tarnavsky/1/maxima1-11-thumb.png" alt="" />
</a>
</p>
<p>Если для слова, которое вы ввели после <kbd>?</kbd> или <kbd>describe</kbd>, найдено единственное совпадение, его описание будет показано сразу.</p>
<p>Кроме справки, по многим функциям Maxima есть примеры их использования. Пример можно загрузить функцией <kbd>example()</kbd>. Вызов этой функции без аргумента отобразит список всех имен доступных примеров; вызов вида <kbd>example(name)</kbd> загрузит в текущую сессию и выполнит указанный файл примера:</p>
<p class="labeled-image">
<a href="i/tarnavsky/1/maxima1-12.png">
<img src="i/tarnavsky/1/maxima1-12-thumb.png" alt="" />
</a>
</p>
<div class="hl">
<h3 class="hlh">Решение проблемы с запуском из-под TeXmacs</h3>
<p>Если у вас возникли проблемы с запуском Maxima-сессии из TeXmacs, обратите внимание на то, кто у вас в системе выступает под именем <kbd>/bin/sh</kbd>. Дело в том, что инициализация всех разнообразных сессий реализована в TeXmacs’е через shell-скрипты, вызываемые именно с помощью <kbd>/bin/sh</kbd>. И в скрипте, отвечающем за сессию Maxima, используется возможность, которая не стандартизирована как обязательная для <kbd>/bin/sh</kbd>, но присутствует в его эмуляции bash. Другими словами, если у вас <kbd>/bin/sh</kbd> является не ссылкой на <kbd>/bin/bash</kbd>, а чем-то другим, то именно это может послужить причиной невозможности открыть Maxima-сессию (к примеру, в Debian и основанных на нем дистрибутивах кроме bash ссылку <kbd>/bin/sh</kbd> на себя может захотеть поставить еще и более легкий <kbd>dash</kbd>; в этом случае восстановить статус-кво можно с помощью <kbd>dpkg-reconfigure dash</kbd>). Если сделать <kbd>/bin/sh</kbd> ссылкой на <kbd>/bin/bash</kbd> не представляется возможным, можете попробовать поменять <kbd>#!/bin/sh</kbd> на <kbd>#!/bin/bash</kbd> в файле <kbd>/usr/lib/texmacs/TeXmacs/bin/maxima_detect</kbd>. Я написал об этой проблеме разработчикам TeXmacs, но еще не получил никакой их реакции, так что не могу пока сказать, будет ли исправлена эта недоработка в ближайших версиях.</p>
</div>
<h3>Основные принципы</h3>
<p>То, что Максима написана на Lisp, человеку, знакомому с этим языком, становится понятно уже в начале работы с программой. Действительно, в Максиме четко прослеживается «лисповский» принцип работы с данными, который оказывается очень кстати в контексте символьной математики и аналитических вычислений. Дело в том, что в Lisp, по большому счету, нет разделения на объекты и данные: имена переменных и выражения могут использоваться практически в одном и том же контексте. В Maxima же это свойство развито еще сильнее: фактически, мы можем использовать любой символ вне зависимости от того, присвоено ли ему какое-то выражение. По умолчанию символ, связанный с любым выражением, будет представлять это выражение; символ, не связанный ни с чем, будет представлять самого себя, трактуемого опять-таки как выражение. Поясним на примере:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-13.png" alt="" />
</p>
<p>Из этого следует, в частности, что в выражение автоматически подставляется значение входящего в него символа только в том случае, если это значение было приписано символу до определения выражения:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-14.png" alt="" />
</p>
<p>Если некоторый символ уже имеет какое-то значение, можем ли мы использовать в выражении сам этот символ, а не его значение? Конечно. Сделать это можно с помощью знака апострофа — введенный перед любым символом или выражением, он предотвращает его вычисление:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-15.png" alt="" />
</p>
<p>Результат выражения <kbd>%i12</kbd> был бы аналогичен и в том случае, если бы <kbd>b</kbd> и <kbd>y</kbd> не имели на тот момент никаких значений; таким образом, мы можем смело блокировать вычисление символа, даже не запоминая (или не зная), присвоены ли им вообще какие-то выражения.</p>
<p>Точно так же можно поступить с любой встроенной функцией, если мы хотим не выполнить ее, а использовать в своем математическом контексте. Например, уже упомянутая функция дифференцирования может пригодиться нам для обозначения производной в дифференциальном уравнении; в этом случае, конечно, вычислять ее не надо:</p>
<p class="labeled-image">
<img src="i/tarnavsky/1/maxima1-16.png" alt="" />
</p>
<p>Благодаря описанным особенностям работа в Максиме, с одной стороны, становится во многом похожей на традиционную «ручную» работу с математическими формулами, что практически сводит на нет психологический барьер в начале работы с программой. С другой стороны, даже на этом начальном этапе вы фактически избавлены от наиболее рутинной ручной работы, вроде отслеживания текущих значений символов, и можете полностью сосредоточиться на самой задаче. Конечно, блокировка вычислений — это не единственный способ влиять на то, как Максима будет вычислять то или иное выражение; этим процессом можно управлять довольно гибко.</p>
</div>
<div class="footer">
<p>Вопросы о Maxima или этого сайта: <a href="maximalist.html">Списки рассылки</a>
</p>
</div>
</body>
</html>