<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Functions and Variables for plotdf (Maxima Manual)</title>

<meta name="description" content="Functions and Variables for plotdf (Maxima Manual)">
<meta name="keywords" content="Functions and Variables for plotdf (Maxima Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="maxima_toc.html" rel="start" title="Top">
<link href="maxima_334.html" rel="index" title="Index der Variablen und Funktionen">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Inhaltsverzeichnis">
<link href="maxima_289.html" rel="up" title="plotdf">
<link href="maxima_290.html" rel="prev" title="Introduction to plotdf">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6>"></script>
<script type='text/javascript'>
MathJax = {
  options: {
    skipHtmlTags: {'[-]': ['pre']},
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
};
</script><script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
</head>

<body lang="de" class="tex2jax_ignore">
<div class="section" id="Functions-and-Variables-for-plotdf">
<div class="header">
<p>
Vorige: <a href="maxima_290.html" accesskey="p" rel="prev">Introduction to plotdf</a>, Nach oben: <a href="maxima_289.html" accesskey="u" rel="up">plotdf</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Inhaltsverzeichnis" rel="contents">Inhalt</a>][<a href="maxima_334.html" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-and-Variables-for-plotdf-1"></span><h3 class="section">66.2 Functions and Variables for plotdf</h3>

<span id="Item_003a-plotdf_002ede_002fdeffn_002fplotdf"></span><dl class="def">
<dt id="index-plotdf"><span class="category">Function: </span><span><strong>plotdf</strong> <em>(<var>dydx</var>, &hellip; options &hellip;)</em><a href='#index-plotdf' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-plotdf-1"><span class="category">Function: </span><span><strong>plotdf</strong> <em>(<var>dvdu</var>, <code>[</code><var>u</var>,<var>v</var><code>]</code>, &hellip; options &hellip;)</em><a href='#index-plotdf-1' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-plotdf-2"><span class="category">Function: </span><span><strong>plotdf</strong> <em>(<code>[</code><var>dxdt</var>, <var>dydt</var><code>]</code>, &hellip; options &hellip;)</em><a href='#index-plotdf-2' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-plotdf-3"><span class="category">Function: </span><span><strong>plotdf</strong> <em>(<code>[</code><var>dudt</var>, <var>dvdt</var><code>]</code>, <code>[</code><var>u</var>, <var>v</var><code>]</code>, &hellip; options &hellip;)</em><a href='#index-plotdf-3' class='copiable-anchor'> &para;</a></span></dt>
<dd>
<p>Displays a direction field in two dimensions <var>x</var> and <var>y</var>.
</p>
<p><var>dydx</var>, <var>dxdt</var> and <var>dydt</var> are expressions that depend on
<var>x</var> and <var>y</var>.  <var>dvdu</var>, <var>dudt</var> and <var>dvdt</var> are
expressions that depend on <var>u</var> and <var>v</var>.  In addition to those two
variables, the expressions can also depend on a set of parameters, with
numerical values given with the <code>parameters</code> option (the option
syntax is given below), or with a range of allowed values specified by a
<var>sliders</var> option.
</p>
<p>Several other options can be given within the command, or selected in
the menu.  Integral curves can be obtained by clicking on the plot, or
with the option <code>trajectory_at</code>.  The direction of the integration
can be controlled with the <code>direction</code> option, which can have
values of <em>forward</em>, <em>backward</em> or <em>both</em>.  The number of
integration steps is given by <code>nsteps</code> and the time interval
between them is set up with the <code>tstep</code> option.  The Adams Moulton
method is used for the integration; it is also possible to switch to an
adaptive Runge-Kutta 4th order method.
</p>
<p><b>Plot window menu:</b>
</p>
<p>The menu in the plot window has the following options: <em>Zoom</em>, will
change the behavior of the mouse so that it will allow you to zoom in on
a region of the plot by clicking with the left button.  Each click near a
point magnifies the plot, keeping the center at the point where you
clicked.  Holding the <tt class="key">Shift</tt> key while clicking, zooms out to the
previous magnification.  To resume computing trajectories when you click
on a point, select <em>Integrate</em> from the menu.
</p>
<p>The option <em>Config</em> in the menu can be used to change the ODE(s) in
use and various other settings.  After configuration changes are made,
the menu option <em>Replot</em> should be selected, to activate the new
settings.  If a pair of coordinates are entered in the field
<em>Trajectory at</em> in the <em>Config</em> dialog menu, and the
<tt class="key">enter</tt> key is pressed, a new integral curve will be shown, in
addition to the ones already shown.  When <em>Replot</em> is selected, only
the last integral curve entered will be shown.
</p>
<p>Holding the right mouse button down while the cursor is moved, can be
used to drag the plot sideways or up and down.  Additional
parameters such as the number of steps, the initial value of <var>t</var>
and the x and y centers and radii, may be set in the Config menu.
</p>
<p>A copy of the plot can be saved as a postscript file, using the menu
option <em>Save</em>.
</p>
<p><b>Plot options:</b>
</p>
<p>The <code>plotdf</code> command may include several commands, each command is
a list of two or more items.  The first item is the name of the option,
and the remainder comprises the value or values assigned to the option.
</p>
<p>The options which are recognized by <code>plotdf</code> are the following:
</p>
<ul>
<li> <em>tstep</em> defines the length of the increments on the
independent variable <var>t</var>, used to compute an integral curve.  If only
one expression <var>dydx</var> is given to <code>plotdf</code>, the <var>x</var>
variable will be directly proportional to <var>t</var>.
The default value is 0.1.

</li><li> <em>nsteps</em> defines the number of steps of length <code>tstep</code>
that will be used for the independent variable, to compute an integral
curve.
The default value is 100.

</li><li> <em>direction</em> defines the direction of the independent
variable that will be followed to compute an integral curve.  Possible
values are <code>forward</code>, to make the independent variable increase
<code>nsteps</code> times, with increments <code>tstep</code>, <code>backward</code>, to
make the independent variable decrease, or <code>both</code> that will lead to
an integral curve that extends <code>nsteps</code> forward, and <code>nsteps</code>
backward.  The keywords <code>right</code> and <code>left</code> can be used as
synonyms for <code>forward</code> and <code>backward</code>.
The default value is <code>both</code>.

</li><li> <em>tinitial</em> defines the initial value of variable <var>t</var> used
to compute integral curves.  Since the differential equations are
autonomous, that setting will only appear in the plot of the curves as
functions of <var>t</var>.
The default value is 0.

</li><li> <em>versus_t</em> is used to create a second plot window, with a
plot of an integral curve, as two functions <var>x</var>, <var>y</var>, of the
independent variable <var>t</var>.  If <code>versus_t</code> is given any value
different from 0, the second plot window will be displayed.  The second
plot window includes another menu, similar to the menu of the main plot
window.
The default value is 0.

</li><li> <em>trajectory_at</em> defines the coordinates <var>xinitial</var> and
<var>yinitial</var> for the starting point of an integral curve.
The option is empty by default.

</li><li> <em>parameters</em> defines a list of parameters, and their
numerical values, used in the definition of the differential
equations.  The name and values of the parameters must be given in a
string with a comma-separated sequence of pairs <code>name=value</code>.

</li><li> <em>sliders</em> defines a list of parameters that will be changed
interactively using slider buttons, and the range of variation of those
parameters.  The names and ranges of the parameters must be given in a
string with a comma-separated sequence of elements <code>name=min:max</code>

</li><li> <em>xfun</em> defines a string with semi-colon-separated sequence
of functions of <var>x</var> to be displayed, on top of the direction field.
Those functions will be parsed by Tcl and not by Maxima.

</li><li> <em>x</em> should be followed by two numbers, which will set up the minimum
and maximum values shown on the horizontal axis.  If the variable on the
horizontal axis is not <var>x</var>, then this option should have the name of
the variable on the horizontal axis.
The default horizontal range is from -10 to 10.

</li><li> <em>y</em> should be followed by two numbers, which will set up the minimum
and maximum values shown on the vertical axis.  If the variable on the
vertical axis is not <var>y</var>, then this option should have the name of
the variable on the vertical axis.
The default vertical range is from -10 to 10.
</li></ul>

<p><b>Examples:</b>
</p>
<ul>
<li> To show the direction field of the differential equation <em class='tex2jax_process'>\(y' = exp(-x) + y\)</em>
and the solution that goes through <em class='tex2jax_process'>\((2, -0.1)\)</em>:

<div class="example">
<pre class="example">(%i1) plotdf(exp(-x)+y,[trajectory_at,2,-0.1])$
</pre></div>

<img src="./figures/plotdf1.png" alt="./figures/plotdf1">

</li><li> To obtain the direction field for the equation <em class='tex2jax_process'>\(diff(y,x) = x - y^2\)</em> and
the solution with initial condition <em class='tex2jax_process'>\(y(-1) = 3\)</em>, we can use the command:

<div class="example">
<pre class="example">(%i1) plotdf(x-y^2,[xfun,&quot;sqrt(x);-sqrt(x)&quot;],
         [trajectory_at,-1,3], [direction,forward],
         [y,-5,5], [x,-4,16])$
</pre></div>

<p>The graph also shows the function <em class='tex2jax_process'>\(y = sqrt(x)\)</em>.
</p>
<img src="./figures/plotdf2.png" alt="./figures/plotdf2">

</li><li> The following example shows the direction field of a harmonic oscillator,
defined by the two equations <em class='tex2jax_process'>\(dz/dt = v\)</em> and <em class='tex2jax_process'>\(dv/dt = -k*z/m\)</em>,
and the integral curve through <em class='tex2jax_process'>\((z,v) = (6,0)\)</em>, with a slider that
will allow you to change the value of <em class='tex2jax_process'>\(m\)</em> interactively (<em class='tex2jax_process'>\(k\)</em> is
fixed at 2):

<div class="example">
<pre class="example">(%i1) plotdf([v,-k*z/m], [z,v], [parameters,&quot;m=2,k=2&quot;],
           [sliders,&quot;m=1:5&quot;], [trajectory_at,6,0])$
</pre></div>

<img src="./figures/plotdf3.png" alt="./figures/plotdf3">

</li><li> To plot the direction field of the Duffing equation,
<em class='tex2jax_process'>\(m*x''+c*x'+k*x+b*x^3 = 0\)</em>, we introduce the variable <em class='tex2jax_process'>\(y=x'\)</em> and use:

<div class="example">
<pre class="example">(%i1) plotdf([y,-(k*x + c*y + b*x^3)/m],
             [parameters,&quot;k=-1,m=1.0,c=0,b=1&quot;],
             [sliders,&quot;k=-2:2,m=-1:1&quot;],[tstep,0.1])$
</pre></div>

<img src="./figures/plotdf4.png" alt="./figures/plotdf4">

</li><li> The direction field for a damped pendulum, including the
solution for the given initial conditions, with a slider that
can be used to change the value of the mass <em class='tex2jax_process'>\(m\)</em>, and with a plot of
the two state variables as a function of time:

<div class="example">
<pre class="example">(%i1) plotdf([w,-g*sin(a)/l - b*w/m/l], [a,w],
        [parameters,&quot;g=9.8,l=0.5,m=0.3,b=0.05&quot;],
        [trajectory_at,1.05,-9],[tstep,0.01],
        [a,-10,2], [w,-14,14], [direction,forward],
        [nsteps,300], [sliders,&quot;m=0.1:1&quot;], [versus_t,1])$
</pre></div>

<img src="./figures/plotdf5.png" alt="./figures/plotdf5"><img src="./figures/plotdf6.png" alt="./figures/plotdf6">

</li></ul>
</dd></dl>



</div>
<hr>
<div class="header">
<p>
Vorige: <a href="maxima_290.html" accesskey="p" rel="prev">Introduction to plotdf</a>, Nach oben: <a href="maxima_289.html" accesskey="u" rel="up">plotdf</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Inhaltsverzeichnis" rel="contents">Inhalt</a>][<a href="maxima_334.html" title="Index" rel="index">Index</a>]</p>
</div>


<a href='js_licenses.html' rel='jslicense'><small>JavaScript license information</small></a>
</body>
</html>
