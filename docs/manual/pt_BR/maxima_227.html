<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Funções e Variáveis Definidas para Units (Manual do Maxima)</title>

<meta name="description" content="Funções e Variáveis Definidas para Units (Manual do Maxima)">
<meta name="keywords" content="Funções e Variáveis Definidas para Units (Manual do Maxima)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="maxima_toc.html" rel="start" title="Top">
<link href="maxima_231.html" rel="index" title="Índice de Funções e Variáveis">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Sum&aacute;rio">
<link href="maxima_225.html" rel="up" title="unit">
<link href="maxima_226.html" rel="prev" title="Introdução a Units">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6>"></script>

</head>

<body lang="pt">
<div class="section" id="Fun_00e7_00f5es-e-Vari_00e1veis-Definidas-para-Units">
<div class="header">
<p>
Anterior: <a href="maxima_226.html" accesskey="p" rel="prev">Introdução a Units</a>, Acima: <a href="maxima_225.html" accesskey="u" rel="up">unit</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Sum&aacute;rio" rel="contents">Conte&uacute;do</a>][<a href="maxima_231.html" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>]</p>
</div>
<span id="Funcoes-e-Variaveis-Definidas-para-Units"></span><h3 class="section">74.2, Funções e Variáveis Definidas para Units</h3>

<span id="Item_003a-unit_002fdeffn_002fsetunits"></span><dl class="def">
<dt id="index-setunits"><span class="category">Função: </span><span><strong>setunits</strong> <em>(<var>list</var>)</em><a href='#index-setunits' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Por padrão, o pacote <em>unit</em> não usa qualquer dimensões derivadas, mas irá
converter todas as unidades nas sete fundamentais do sistema MKS.
</p><div class="example">
<pre class="example">(%i2) N;
                                     kg m
(%o2)                                ----
                                       2
                                      s
(%i3) dyn;
                                   1      kg m
(%o3)                           (------) (----)
                                 100000     2
                                           s
(%i4) g;
                                    1
(%o4)                             (----) (kg)
                                   1000
(%i5) centigram*inch/minutes^2;
                                  127        kg m
(%o5)                       (-------------) (----)
                             1800000000000     2
                                              s
</pre></div>

<p>Em alguns casos esse é o comportamento desejado.  Se o usuário desejar usar outras
unidades, isso é conseguido com o comando <code>setunits</code>:
</p><div class="example">
<pre class="example">(%i6) setunits([centigram,inch,minute]);
(%o6)                                done
(%i7) N;
                            1800000000000   %in cg
(%o7)                      (-------------) (------)
                                 127            2
                                            %min
(%i8) dyn;
                               18000000   %in cg
(%o8)                         (--------) (------)
                                 127          2
                                          %min
(%i9) g;
(%o9)                             (100) (cg)
(%i10) centigram*inch/minutes^2;
                                    %in cg
(%o10)                              ------
                                        2
                                    %min
</pre></div>

<p>A escolha de unidades é completamente flexível.  Por exemplo, se quisermos
voltar para quiilogramas, metros, e segundos como padrão para essas
dimensão nós podemos fazer:
</p><div class="example">
<pre class="example">(%i11) setunits([kg,m,s]);
(%o11)                               done
(%i12) centigram*inch/minutes^2;
                                  127        kg m
(%o12)                      (-------------) (----)
                             1800000000000     2
                                              s
</pre></div>

<p>Unidade derivadas são também manuseáveis por meio desse comando:
</p><div class="example">
<pre class="example">(%i17) setunits(N);
(%o17)                               done
(%i18) N;
(%o18)                                 N
(%i19) dyn; 
                                    1
(%o19)                           (------) (N)
                                  100000
(%i20) kg*m/s^2;
(%o20)                                 N
(%i21) centigram*inch/minutes^2;
                                    127
(%o21)                        (-------------) (N)
                               1800000000000
</pre></div>

<p>Note que o pacote <em>unit</em> reconhece a combinação não MKS
de massa, comprimento, e tempo inverso elevado ao quadrado como uma força, e converte isso
para Newtons.  É dessa forma que Maxima trabalha geralmente.  Se, por exemplo, nós
preferirmos dinas em lugar de Newtons, simplesmente fazemos o seguinte:
</p><div class="example">
<pre class="example">(%i22) setunits(dyn);
(%o22)                               done
(%i23) kg*m/s^2;
(%o23)                          (100000) (dyn)
(%i24) centigram*inch/minutes^2;
                                  127
(%o24)                         (--------) (dyn)
                                18000000
</pre></div>

<p>Para descontinuar simplificando para qualquer unidade de força, usamos o comando <code>uforget</code>:
</p><div class="example">
<pre class="example">(%i26) uforget(dyn);
(%o26)                               false
(%i27) kg*m/s^2;
                                     kg m
(%o27)                               ----
                                       2
                                      s
(%i28) centigram*inch/minutes^2;
                                  127        kg m
(%o28)                      (-------------) (----)
                             1800000000000     2
                                              s
</pre></div>
<p>Isso pode trabalhar igualmente bem com <code>uforget(N)</code> ou
<code>uforget(%force)</code>.
</p>
<p>Veja também <code>uforget</code>. Para usar essa função escreva primeiro <code>load(&quot;unit&quot;)</code>.
</p></dd></dl>

<span id="Item_003a-unit_002fdeffn_002fuforget"></span><dl class="def">
<dt id="index-uforget"><span class="category">Função: </span><span><strong>uforget</strong> <em>(<var>list</var>)</em><a href='#index-uforget' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Por padrão, o pacote <em>unit</em> converte todas as unidades para as
sete unidaes fundamentais do sitema MKS de unidades. Ess comportamento pode
ser mudado com o comando <code>setunits</code>. Após o qual, o
usuário pode restabelecer o comportamento padrão para uma dimensão em particular
mediante o comando <code>uforget</code>:
</p><div class="example">
<pre class="example">(%i13) setunits([centigram,inch,minute]);
(%o13)                               done
(%i14) centigram*inch/minutes^2;
                                    %in cg
(%o14)                              ------
                                        2
                                    %min
(%i15) uforget([cg,%in,%min]);
(%o15)                      [false, false, false]
(%i16) centigram*inch/minutes^2;
                                  127        kg m
(%o16)                      (-------------) (----)
                             1800000000000     2
                                              s
</pre></div>

<p><code>uforget</code> opera sobre dimensões,
não sobre unidades, de forma que qualquer unidade de uma dimensão em particular irá trabalhar.  A
própia dimensão é também um argumento legal.
</p>
<p>Veja também <code>setunits</code>. To use this function write first <code>load(&quot;unit&quot;)</code>.
</p></dd></dl>

<span id="Item_003a-unit_002fdeffn_002fconvert"></span><dl class="def">
<dt id="index-convert"><span class="category">Função: </span><span><strong>convert</strong> <em>(<var>expr</var>, <var>list</var>)</em><a href='#index-convert' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Quando do restabelecimento dos valores padrão o ambiente global é destruído, existe o comando
<code>convert</code>, que permite conversões imediatas.  <code>convert</code> pode aceitar  um argumetno
simples ou uma lista de unidades a serem usadas na conversão.  Quando uma operação de conversão for
concluída, o sistema normal de avaliação global é contornado, com o objetivo de evitar que
o resultado desejado seja convertido novamente.  Como conseq&uuml;ência, em cálculos aproximados
alertas de &quot;rat&quot; irão ser visíveis se o ambiente global que controla esse comportamento
(<code>ratprint</code>) for <code>true</code>.  <code>convert</code> também é útil para uma verificação pontual e imediata da
precisão de uma conversão global.  Outro recurso é que <code>convert</code> irá permitir a um
usuário fazer um Base de Conversões Dimensionais mesmo se o ambiente global for escolhido para
simplificar par uma Dimensão Derivada.
</p>
<div class="example">
<pre class="example">(%i2) kg*m/s^2;
                                     kg m
(%o2)                                ----
                                       2
                                      s
(%i3) convert(kg*m/s^2,[g,km,s]);
                                     g km
(%o3)                                ----
                                       2
                                      s
(%i4) convert(kg*m/s^2,[g,inch,minute]);

`rat' replaced 39.37007874015748 by 5000/127 = 39.37007874015748
                              18000000000   %in g
(%o4)                        (-----------) (-----)
                                  127           2
                                            %min
(%i5) convert(kg*m/s^2,[N]);
(%o5)                                  N
(%i6) convert(kg*m^2/s^2,[N]);
(%o6)                                 m N
(%i7) setunits([N,J]);
(%o7)                                done
(%i8) convert(kg*m^2/s^2,[N]);
(%o8)                                 m N
(%i9) convert(kg*m^2/s^2,[N,inch]);

`rat' replaced 39.37007874015748 by 5000/127 = 39.37007874015748
                                 5000
(%o9)                           (----) (%in N)
                                 127
(%i10) convert(kg*m^2/s^2,[J]);
(%o10)                                 J
(%i11) kg*m^2/s^2;
(%o11)                                 J
(%i12) setunits([g,inch,s]);
(%o12)                               done
(%i13) kg*m/s^2;
(%o13)                                 N
(%i14) uforget(N);
(%o14)                               false
(%i15) kg*m/s^2;
                                5000000   %in g
(%o15)                         (-------) (-----)
                                  127       2
                                           s
(%i16) convert(kg*m/s^2,[g,inch,s]);

`rat' replaced 39.37007874015748 by 5000/127 = 39.37007874015748
                                5000000   %in g
(%o16)                         (-------) (-----)
                                  127       2
                                           s
</pre></div>

<p>Veja também <code>setunits</code> e <code>uforget</code>. Para usar essa função primeiramente escreva <code>load(&quot;unit&quot;)</code>.
</p></dd></dl>


<span id="Item_003a-unit_002fdefvr_002fusersetunits"></span><dl class="def">
<dt id="index-usersetunits"><span class="category">Variável de opção: </span><span><strong>usersetunits</strong><a href='#index-usersetunits' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Valor padrão: none
</p>
<p>Se um usuário desejar ter um comportamento padrão de unidade diferente daquele descrito,
ele pode fazer uso de <em>maxima-init.mac</em> e da variável
<em>usersetunits</em>.  O pacote <em>unit</em> irá verificar o arquivo <em>maxima-init.mac</em> na inicialização para ver se a essa variável 
foi atribuído uma lista.  Se isso aconteceu, o pacote <em>unit</em> irá usar <code>setunits</code> sobre aquela lista e pegar 
as unidades lá colocadas para serem as padrões.  <code>uforget</code> irá reverter para o comportamento
definido por <code>usersetunits</code> sobrescrevendo seus próprios padrões.  Por exemplo, Se tivermos um arquivo
<em>maxima-init.mac</em> contendo:
</p><div class="example">
<pre class="example">usersetunits : [N,J];
</pre></div>
<p>nós poderemos ver o seguinte comportamento:
</p><div class="example">
<pre class="example">(%i1) load(&quot;unit&quot;)$
******************************************************************* 
*                       Units version 0.50                        * 
*          Definitions based on the NIST Reference on             * 
*              Constants, Units, and Uncertainty                  * 
*       Conversion factors from various sources including         * 
*                   NIST and the GNU units package                * 
******************************************************************* 
 
Redefining necessary functions... 
WARNING: DEFUN/DEFMACRO: redefining function TOPLEVEL-MACSYMA-EVAL ...
WARNING: DEFUN/DEFMACRO: redefining function MSETCHK ...
WARNING: DEFUN/DEFMACRO: redefining function KILL1 ...
WARNING: DEFUN/DEFMACRO: redefining function NFORMAT ...
Initializing unit arrays... 
Done. 
User defaults found... 
User defaults initialized.
(%i2) kg*m/s^2;
(%o2)                                  N
(%i3) kg*m^2/s^2;
(%o3)                                  J
(%i4) kg*m^3/s^2;
(%o4)                                 J m
(%i5) kg*m*km/s^2;
(%o5)                             (1000) (J)
(%i6) setunits([dyn,eV]);
(%o6)                                done
(%i7) kg*m/s^2;
(%o7)                           (100000) (dyn)
(%i8) kg*m^2/s^2;
(%o8)                     (6241509596477042688) (eV)
(%i9) kg*m^3/s^2;
(%o9)                    (6241509596477042688) (eV m)
(%i10) kg*m*km/s^2;
(%o10)                   (6241509596477042688000) (eV)
(%i11) uforget([dyn,eV]);  
(%o11)                           [false, false]
(%i12) kg*m/s^2;
(%o12)                                 N
(%i13) kg*m^2/s^2;
(%o13)                                 J
(%i14) kg*m^3/s^2;
(%o14)                                J m
(%i15) kg*m*km/s^2;
(%o15)                            (1000) (J)
</pre></div>
<p>Sem <code>usersetunits</code>, as entradas iniciais poderiam ter sido convertidas
para o sistema de unidades MKS, e <code>uforget</code> poderia ter resultado em um retorno para as regras do MKS.  Em vez disso,
as preferências do usuário foram respeitadas em ambos os casos.  Note que esse podem ainda
serem sobrescritos se for desejado.  Para eliminar completamente essa simplificação - i.e.
ter as preferências de usuário escolhidas para os padrões de unidade do Maxima - o comando
<code>dontusedimension</code> pode ser usado.  <code>uforget</code> pode restabelecer as preferências de usuário novamente, mas
somente se <code>usedimension</code> liberar isso para uso.  Alternativamente,
<code>kill(usersetunits)</code> irá remover completametne todo o conhecimento dessas escolhas de usuário
da sessão atual.  Aqui está alguns exemplos de como esssas várias opções trabalham.
</p><div class="example">
<pre class="example">(%i2) kg*m/s^2;
(%o2)                                  N
(%i3) kg*m^2/s^2;
(%o3)                                  J
(%i4) setunits([dyn,eV]);
(%o4)                                done
(%i5) kg*m/s^2;
(%o5)                           (100000) (dyn)
(%i6) kg*m^2/s^2;
(%o6)                     (6241509596477042688) (eV)
(%i7) uforget([dyn,eV]);
(%o7)                          [false, false]
(%i8) kg*m/s^2;
(%o8)                                  N
(%i9) kg*m^2/s^2;
(%o9)                                  J
(%i10) dontusedimension(N);
(%o10)                             [%force]
(%i11) dontusedimension(J);
(%o11)                         [%energy, %force]
(%i12) kg*m/s^2;
                                     kg m
(%o12)                               ----
                                       2
                                      s
(%i13) kg*m^2/s^2;
                                         2
                                     kg m
(%o13)                               -----
                                       2
                                      s
(%i14) setunits([dyn,eV]);
(%o14)                               done
(%i15) kg*m/s^2;
                                     kg m
(%o15)                               ----
                                       2
                                      s
(%i16) kg*m^2/s^2;
                                         2
                                     kg m
(%o16)                               -----
                                       2
                                      s
(%i17) uforget([dyn,eV]);
(%o17)                         [false, false]
(%i18) kg*m/s^2;
                                     kg m
(%o18)                               ----
                                       2
                                      s
(%i19) kg*m^2/s^2;
                                         2
                                     kg m
(%o19)                               -----
                                       2
                                      s
(%i20) usedimension(N);
Done.  To have Maxima simplify to this dimension, use setunits([unit]) 
to select a unit. 
(%o20)                               true
(%i21) usedimension(J);
Done.  To have Maxima simplify to this dimension, use setunits([unit]) 
to select a unit. 
(%o21)                               true
(%i22) kg*m/s^2;
                                     kg m
(%o22)                               ----
                                       2
                                      s
(%i23) kg*m^2/s^2;
                                         2
                                     kg m
(%o23)                               -----
                                       2
                                      s
(%i24) setunits([dyn,eV]);
(%o24)                               done
(%i25) kg*m/s^2;
(%o25)                          (100000) (dyn)
(%i26) kg*m^2/s^2;
(%o26)                    (6241509596477042688) (eV)
(%i27) uforget([dyn,eV]);
(%o27)                           [false, false]
(%i28) kg*m/s^2;
(%o28)                                 N
(%i29) kg*m^2/s^2;
(%o29)                                 J
(%i30) kill(usersetunits);
(%o30)                               done
(%i31) uforget([dyn,eV]);
(%o31)                          [false, false]
(%i32) kg*m/s^2;
                                     kg m
(%o32)                               ----
                                       2
                                      s
(%i33) kg*m^2/s^2;
                                         2
                                     kg m
(%o33)                               -----
                                       2
                                      s
</pre></div>
<p>Desafortunadamente essa ampla variedade de opções é um pouco confus no início,
mas uma vez que o usuário cultiva o uso delas o usuário perceberá que elas permitem completo
controle sobre seu ambiente de trabalho.
</p>

</dd></dl>


<span id="Item_003a-unit_002fdeffn_002fmetricexpandall"></span><dl class="def">
<dt id="index-metricexpandall"><span class="category">Função: </span><span><strong>metricexpandall</strong> <em>(<var>x</var>)</em><a href='#index-metricexpandall' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Reconstrói listas de unidades globais automaticamente criando todas as unidades métricas desejadas.
<var>x</var> é um argumento numérico que é usado para especificar quantos prefixos
métricos o usuário deseja que seja definido.  Os argumentos são os seguintes, com cada
maior número definindo todos os menores números de unidade:
</p><div class="example">
<pre class="example">           0 - none. Only base units
           1 - kilo, centi, milli
(default)  2 - giga, mega, kilo, hecto, deka, deci, centi, milli,
               micro, nano
           3 - peta, tera, giga, mega, kilo, hecto, deka, deci,
               centi, milli, micro, nano, pico, femto
           4 - all
</pre></div>
<p>Normalmente, Maxima não irá definir a expansão completa desses resultados em uma
grande número de unidades, mas <code>metricexpandall</code> pode ser usada para
reconstruir a lista em um estilo mais ou menos completo. A variável relevante
no arquivo <em>unit.mac</em> é <var>%unitexpand</var>.
</p></dd></dl>

<span id="Item_003a-unit_002fdefvr_002f_0025unitexpand"></span><dl class="def">
<dt id="index-_0025unitexpand"><span class="category">Variável: </span><span><strong>%unitexpand</strong><a href='#index-_0025unitexpand' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Valor padrão: <code>2</code>
</p>
<p>Ess é o valor fornecido a <code>metricexpandall</code> durante a inicialização
de <em>unit</em>.
</p>
</dd></dl>






</div>
<hr>
<div class="header">
<p>
Anterior: <a href="maxima_226.html" accesskey="p" rel="prev">Introdução a Units</a>, Acima: <a href="maxima_225.html" accesskey="u" rel="up">unit</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Sum&aacute;rio" rel="contents">Conte&uacute;do</a>][<a href="maxima_231.html" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>]</p>
</div>



</body>
</html>
