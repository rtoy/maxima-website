<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Definições para plotdf (Manual do Maxima 5.47.0)</title>

<meta name="description" content="Definições para plotdf (Manual do Maxima 5.47.0)">
<meta name="keywords" content="Definições para plotdf (Manual do Maxima 5.47.0)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="maxima_toc.html" rel="start" title="Top">
<link href="maxima_218.html" rel="index" title="Índice de Funções e Variáveis">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="Sum&aacute;rio">
<link href="maxima_186.html" rel="up" title="plotdf">
<link href="maxima_187.html" rel="prev" title="Introdução a plotdf">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6>"></script>
<script type='text/javascript'>
MathJax = {
  options: {
    skipHtmlTags: {'[-]': ['pre']},
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
};
</script><script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
</head>

<body lang="pt" class="tex2jax_ignore">
<div class="section" id="Defini_00e7_00f5es-para-plotdf">
<div class="header">
<p>
Anterior: <a href="maxima_187.html" accesskey="p" rel="prev">Introdução a plotdf</a>, Acima: <a href="maxima_186.html" accesskey="u" rel="up">plotdf</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Sum&aacute;rio" rel="contents">Conte&uacute;do</a>][<a href="maxima_218.html" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>]</p>
</div>
<span id="Definicoes-para-plotdf"></span><h3 class="section">62.2, Definições para plotdf</h3>

<span id="Item_003a-plotdf_002fdeffn_002fplotdf"></span><dl class="def">
<dt id="index-plotdf"><span class="category">Function: </span><span><strong>plotdf</strong> <em>(<var>dydx</var>,...opções...)</em><a href='#index-plotdf' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-plotdf-1"><span class="category">Function: </span><span><strong>plotdf</strong> <em>(<code>[</code><var>dxdt</var>,<var>dydt</var><code>]</code>,...opções...)</em><a href='#index-plotdf-1' class='copiable-anchor'> &para;</a></span></dt>
<dd>
<p>Desenha um campo de direcções em duas
dimensões <var>x</var> e <var>y</var>.
</p>
<p><var>dydx</var>, <var>dxdt</var> e <var>dydt</var> são expressões que dependem de
<var>x</var> e <var>y</var>. Para além dessas duas variáveis, as duas
expressões podem depender de um conjunto de parâmetros, com valores
numéricos que são dados por meio da opção
<code>parameters</code> (a sintaxe dessa opção explica-se mais
para a frente), ou com um intervalo de possíveis valores
definidos com a opção <var>sliders</var>.
</p>
<p>Várias outras opções podem incluirem-se dentro do
comando, ou serem seleccionadas no menú.  Clicando num ponto do
gráfico faz com que seja desenhada a curva integral que passa por esse
ponto; o mesmo pode ser feito dando as coordenadas do ponto com a
opção <code>trajectory_at</code> dentro do comando plotdf. A
direcção de integração pode controlar-se
com a opção <code>direction</code>, que aceita valores de
<em>forward</em>, <em>backward</em> ou <em>both</em>. O número de passos
realizados na integração numérica controla-se com a
opção <code>nsteps</code> e o incremento do tempo em cada
passo com a opção <code>tstep</code>. Usa-se o método de
Adams Moulton para fazer a integração numérica;
também é possível mudar para o método de Runge-Kutta
de quarta ordem com ajuste de passos.
</p>
<p><b>Menú da janela do gráfico:</b>
</p>
<p>O menú da janela gráfica inclui as seguintes opções:
<em>Zoom</em>, que permite mudar o comportamento do rato, de maneira que
servirá para fazer zoom na região do gráfico clicando com o
botão esquerdo. Cada clic alarga a imagem mantendo no centro dela o
ponto onde se clicou.  Mantendo carregada a tecla <tt class="key">Shift</tt> enquanto
se faz clic, faz diminuir o tamanho. Para continuar a desenhar
trajectórias com um clic, selecciona-se a opção
<em>Integrate</em> do menú.
</p>
<p>A opção <em>Config</em> do menú pode usar-se para mudar
a(s) EDO(S) e fazer alguns outros ajustes. Após ter feito alguma
alteração, deverá usar a opção
<em>Replot</em> para activar as novas configurações.  Se
introduzir duas coordenadas no campo <em>Trajectory at</em> do menú de
diálogo do <em>Config</em>, e a seguir carregar na tecla <tt class="key">Enter</tt>,
será acrescentada mais uma curva integral.  Se seleccionar a
opção <em>Replot</em>, só será apresentada a última
curva integral seleccionada.
</p>
<p>Mantendo o botão direito carregado enquanto se desloca o cursor,
poderá arrastar o gráfico na horizontal e na vertical.  Outros
parâmetros, por exemplo, o número de passos, o valor inicial de
<var>t</var>, as coordenadas do centro e o raio, podem ser alterados no
sub-menú da opção <em>Config</em>.
</p>
<p>Com a opção <em>Save</em>, pode imprimir-se o
gráfico numa impressora Postscript ou gravar uma cópia num ficheiro
Postscript. Para optar entre impressão ou gravação em
ficheiro, selecciona-se <em>Print Options</em> na janela de diálogo de
<em>Config</em>. Após ter preenchido os campos da janela de diálogo de
<em>Save</em>, será necessário seleccionar a opção
<em>Save</em> do primeiro menú para criar o ficheiro ou imprimir o
gráfico.
</p>
<p><b>Opções gráficas:</b>
</p>
<p>A função <code>plotdf</code> admite varias
opções, cada uma sendo uma lista de duas ou mais
elementos. O primeiro elemento é o nome da opção, e o
resto estará formado pelos argumentos para essa opção.
</p>
<p>A função <code>plotdf</code> reconhece as seguintes
opções:
</p>
<ul>
<li> <em>tstep</em> estabelece a amplitude dos
incrementos da variável independente <var>t</var>, utilizados para calcular
as curvas integrais. Se for dada só uma expressão <var>dydx</var>, a
variável <var>x</var> será directamente proporcional a <var>t</var>.
O valor por omissão é  0.1.

</li><li> <em>nsteps</em> estabelece o número de passos de
comprimento <code>tstep</code> que se utilizarão na variável independente
para calcular a curva integral.
O valor por omissão é 100.

</li><li> <em>direction</em> estabelece a
direcção da variável independente que será seguida
para calcular uma curva integral.  Os valores possí são:
<code>forward</code>, para fazer que a variável independente aumente
<code>nsteps</code> vezes, com incrementos <code>tstep</code>; <code>backward</code>, para
fazer que a variável independente diminua; <code>both</code>, para estender
a curva integral <code>nsteps</code> passos para a frente e <code>nsteps</code>
passos para atrás.  As palavras <code>right</code> e <code>left</code> podem serem
usadas como sinónimos de <code>forward</code> e <code>backward</code>.
O valor por omissão é <code>both</code>.

</li><li> <em>tinitial</em> estabelece o valor inicial da
variável <var>t</var> utilizado para calcular curvas integrais. Já que as
equações diferenciais são autónomas, esta
opção só aparecerá nos gráficos das curvas em
função de <var>t</var>.
O valor por omissão é 0.

</li><li> <em>versus_t</em> utiliza-se para criar uma segunda
janela gráfica, com o gráfico de uma curva integral, como duas
funções <var>x</var>, <var>y</var>, de variável independente
<var>t</var>. Se for dado a <code>versus_t</code> qualquer valor diferente de 0,
mostrar-se-á a segunda janela gráfica, que inclui outro menú,
similar ao da janela principal.
O valor por omissão é 0.

</li><li> <em>trajectory_at</em> estabelece as coordenadas
<var>xinitial</var> e <var>yinitial</var> para o ponto inicial da curva integral.
Não tem atribuído nenhum valor por omissão.

</li><li> <em>parameters</em> estabelece uma lista de
parâmetros, junto com os seus valores numéricos, que são
utilizados na definição da equação
diferencial. Os nomes dos parâmetros e os seus valores devem
escrever-se em formato de cadeia de caracteres como uma sequência de
pares <code>nome=valor</code> separados por vírgulas.

</li><li> <em>sliders</em> estabelece uma lista de
parâmetros que poderão ser alterados interactivamente usando barras
com sliders, assim como os intervalos de variação dos
ditos parâmetros.  Os nomes dos parâmetros e os seus intervalos
devem escrever-se em formato de cadeia de caracteres como uma
sequência de pares <code>nome=min:max</code> separados por
vírgulas.

</li><li> <em>xfun</em> estabelece uma cadeia de caracteres
com funções de <var>x</var> separadas por ponto e
vírgula para ser representadas por cima do campo de
direcções. Essas funções serão
interpretadas por Tcl, e não por Maxima.

</li><li> <em>xradius</em> é metade do comprimento do
intervalo de valores a representar na direcção x.
O valor por omissão é 10.

</li><li> <em>yradius</em> é metade do comprimento do
intervalo de valores a representar na direcção y.
O valor por omissão é 10.

</li><li> <em>xcenter</em> é a coordenada x do ponto
situado no centro do gráfico.
O valor por omissão é 0.

</li><li> <em>ycenter</em> é a coordenada y do ponto
situado no centro do gráfico.
O valor por omissão é 0.

</li><li> <em>width</em> estabelece a largura da janela gráfica em
pixels.
O valor por omissão é 500.

</li><li> <em>height</em> estabelece a altura da janela gráfica em
pixels.
O valor por omissão é 500.

</li></ul>

<p><b>Exemplos:</b>
</p>
<p>NOTA: Em alguns casos, dependendo da interface usada para executar o
Maxima, as funções que usam <code>openmath</code>, em
particular <code>plotdf</code>, podem desencadear um bug se terminarem em
ponto e vírgula, e não com o símbolo de
dólar. Para evitar problemas, usaremos o símbolo de
dóla nos exemplos a seguir.
</p>
<ul>
<li> Para mostrar o campo de direcções da
equação diferencial <em class='tex2jax_process'>\(y' = exp(-x) + y\)</em> e a
solução que passa por <em class='tex2jax_process'>\((2, -0.1)\)</em>:
<div class="example">
<pre class="example">(%i1) load(&quot;plotdf&quot;)$

(%i2) plotdf(exp(-x)+y,[trajectory_at,2,-0.1]);
</pre></div>

<img src="./figures/plotdf1.png" alt="./figures/plotdf1">

</li><li> Para mostrar o campo de direcções da
equação <em class='tex2jax_process'>\(diff(y,x) = x - y^2\)</em> e a
solução com condição inicial <em class='tex2jax_process'>\(y(-1)
= 3\)</em>, pode utilizar-se o comando:
<div class="example">
<pre class="example">(%i3) plotdf(x-y^2,[xfun,&quot;sqrt(x);-sqrt(x)&quot;],
          [trajectory_at,-1,3], [direction,forward],
          [yradius,5],[xcenter,6]);
</pre></div>
<p>O gráfico também mostra a função <em class='tex2jax_process'>\(y = sqrt(x)\)</em>.
</p>
<img src="./figures/plotdf2.png" alt="./figures/plotdf2">

</li><li> O exemplo seguinte mostra o campo de direcções de um
oscilador harmónico, definido pelas equações
<em class='tex2jax_process'>\(dx/dt = y\)</em> e <em class='tex2jax_process'>\(dy/dt = -k*x/m\)</em>, e a curva integral que passa
por <em class='tex2jax_process'>\((x,y) = (6,0)\)</em>, com uma barra de slider que permitirá mudar
o valor de <em class='tex2jax_process'>\(m\)</em> interactivamente (<em class='tex2jax_process'>\(k\)</em> permanecerá fixo em 2):
<div class="example">
<pre class="example">(%i4) plotdf([y,-k*x/m],[parameters,&quot;m=2,k=2&quot;],
            [sliders,&quot;m=1:5&quot;], [trajectory_at,6,0]);
</pre></div>

<img src="./figures/plotdf3.png" alt="./figures/plotdf3">

</li><li> Para representar o campo de direcções da
equação de Duffing, <em class='tex2jax_process'>\(m*x''+c*x'+k*x+b*x^3 = 0\)</em>,
introduz-se a variável <em class='tex2jax_process'>\(y=x'\)</em> e faz-se:
<div class="example">
<pre class="example">(%i5) plotdf([y,-(k*x + c*y + b*x^3)/m],
              [parameters,&quot;k=-1,m=1.0,c=0,b=1&quot;],
              [sliders,&quot;k=-2:2,m=-1:1&quot;],[tstep,0.1]);
</pre></div>

<img src="./figures/plotdf4.png" alt="./figures/plotdf4">

</li><li> O campo de direcções dum pêndulo amortecido, incluindo
a solução para condições iniciales
dadas, com uma barra de slider que pode usar-se para mudar o valor da
masa, <em class='tex2jax_process'>\(m\)</em>, e com o gráfico das duas variáveis de estado em
função do tempo:

<div class="example">
<pre class="example">(%i6) plotdf([y,-g*sin(x)/l - b*y/m/l],
         [parameters,&quot;g=9.8,l=0.5,m=0.3,b=0.05&quot;],
         [trajectory_at,1.05,-9],[tstep,0.01],
         [xradius,6],[yradius,14],
         [xcenter,-4],[direction,forward],[nsteps,300],
         [sliders,&quot;m=0.1:1&quot;], [versus_t,1]);
</pre></div>

<img src="./figures/plotdf5.png" alt="./figures/plotdf5">
<img src="./figures/plotdf6.png" alt="./figures/plotdf6">

</li></ul>

</dd></dl>


</div>
<hr>
<div class="header">
<p>
Anterior: <a href="maxima_187.html" accesskey="p" rel="prev">Introdução a plotdf</a>, Acima: <a href="maxima_186.html" accesskey="u" rel="up">plotdf</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="Sum&aacute;rio" rel="contents">Conte&uacute;do</a>][<a href="maxima_218.html" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>]</p>
</div>


<a href='js_licenses.html' rel='jslicense'><small>Informação da licença Javascript</small></a>
</body>
</html>
