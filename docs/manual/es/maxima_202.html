<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Manual de Maxima 5.46.0: Funciones y variables para worldmap</title>

<meta name="description" content="Manual de Maxima 5.46.0: Funciones y variables para worldmap">
<meta name="keywords" content="Manual de Maxima 5.46.0: Funciones y variables para worldmap">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="maxima_toc.html#Top" rel="start" title="Top">
<link href="maxima_304.html#g_t_00cdndice-de-Funciones-y-Variables" rel="index" title="Índice de Funciones y Variables">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="&Iacute;ndice General">
<link href="maxima_198.html#draw" rel="up" title="draw">
<link href="maxima_203.html#drawdf" rel="next" title="drawdf">
<link href="maxima_201.html#Funciones-y-variables-para-picture" rel="previous" title="Funciones y variables para picture">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="es" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Funciones-y-variables-para-worldmap"></a>
<div class="header">
<p>
Previous: <a href="maxima_201.html#Funciones-y-variables-para-picture" accesskey="p" rel="previous">Funciones y variables para picture</a>, Subir: <a href="maxima_198.html#draw" accesskey="u" rel="up">draw</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="&Iacute;ndice general" rel="contents">&Iacute;ndice general</a>][<a href="maxima_304.html#g_t_00cdndice-de-Funciones-y-Variables" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>]</p>
</div>
<a name="Funciones-y-variables-para-worldmap-1"></a>
<h3 class="section">47.4 Funciones y variables para worldmap</h3>


<p>Este paquete carga automáticamente el paquete <code>draw</code>.
</p>

<a name="Variables-y-Funciones"></a>
<h4 class="subsection">47.4.1 Variables y Funciones</h4>






<a name="Item_003a-draw_002fdefvr_002fboundaries_005farray"></a><dl>
<dt><a name="index-boundaries_005farray"></a>Global variable: <strong>boundaries_array</strong></dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p><code>boundaries_array</code> es donde el objeto gráfico <code>geomap</code> lee
las coordenadas de las líneas fronterizas.
</p>
<p>Cada componente de <code>boundaries_array</code> es un array de números decimales
en coma flotante representando las coordenadas que definen un segmento
poligonal o línea fronteriza.
</p>
<p>Véase también <code>geomap</code>.
</p></dd></dl>




<a name="Item_003a-draw_002fdeffn_002fnumbered_005fboundaries"></a><dl>
<dt><a name="index-numbered_005fboundaries"></a>Función: <strong>numbered_boundaries</strong> <em>(<var>nlist</var>)</em></dt>
<dd><p>Dibuja una lista de segmentos poligonales (líneas 
fronterizas), etiquetadas con sus números correspondientes
(coordenadas de <code>boundaries_array</code>). Esta función es
de mucha ayuda a la hora de definir nuevas entidades
geográficas.
</p>
<p>Ejemplo:
</p>
<p>Mapa de Europa con las fronteras y costas etiquetadas con
su componente numérica de <code>boundaries_array</code>.
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) european_borders: 
           region_boundaries(-31.81,74.92,49.84,32.06)$
(%i3) numbered_boundaries(european_borders)$
</pre></div>
</dd></dl>




<a name="Item_003a-draw_002fdeffn_002fmake_005fpoly_005fcontinent"></a><dl>
<dt><a name="index-make_005fpoly_005fcontinent"></a>Función: <strong>make_poly_continent</strong> <em>(<var>continent_name</var>)</em></dt>
<dt><a name="index-make_005fpoly_005fcontinent-1"></a>Función: <strong>make_poly_continent</strong> <em>(<var>country_list</var>)</em></dt>
<dd><p>Construye los polígonos necesarios para dibujar
un continente o lista de países coloreados.
</p>
<p>Ejemplo:
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) /* A continent */
      make_poly_continent(Africa)$
(%i3) apply(draw2d, %)$
(%i4) /* A list of countries */
      make_poly_continent([Germany,Denmark,Poland])$
(%i5) apply(draw2d, %)$
</pre></div>
</dd></dl>





<a name="Item_003a-draw_002fdeffn_002fmake_005fpoly_005fcountry"></a><dl>
<dt><a name="index-make_005fpoly_005fcountry"></a>Función: <strong>make_poly_country</strong> <em>(<var>country_name</var>)</em></dt>
<dd><p>Construye los polígonos necesarios para dibujar
un país coloreado. En caso de contener islas,
un país tendrá asociados varios polígonos.
</p>
<p>Ejemplo:
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) make_poly_country(India)$
(%i3) apply(draw2d, %)$
</pre></div>
</dd></dl>




<a name="Item_003a-draw_002fdeffn_002fmake_005fpolygon"></a><dl>
<dt><a name="index-make_005fpolygon"></a>Función: <strong>make_polygon</strong> <em>(<var>nlist</var>)</em></dt>
<dd><p>Devuelve un objeto <code>polygon</code> a partie de una lista
de líneas fronterizas y de costas. El
argumento <var>nlist</var> debe ser una lista de componentes
de <code>boundaries_array</code>.
</p>
<p>Ejemplo:
</p>
<p>La variable Bhutan (Bután) está definida con los números
fronterizos 171, 173 y 1143, de manera que <code>make_polygon([171,173,1143])</code>
concatena los arrays <code>boundaries_array[171]</code>, <code>boundaries_array[173]</code> y
<code>boundaries_array[1143]</code> y devuelve un objeto <code>polygon</code>
apto para ser dibujado por <code>draw</code>. A fin de evitar mensajes
de errores, los arrays deben ser compatibles en el sentido de que dos
de ellos consecutivos deben tener dos coordenadas comunes en los
extremos. En este ejemplo, las dos primeras componentes de 
<code>boundaries_array[171]</code> son iguales a las dos últimas de
<code>boundaries_array[173]</code>, y las dos primeras de <code>boundaries_array[173]</code>
coinciden con las dos primeras de <code>boundaries_array[1143]</code>;
en conclusión, los números de segmentos poligonales171, 173 y 1143
(en este orden) son compatibles y el polígono
coloreado se podrá dibujar.
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) Bhutan;
(%o2)                        [[171, 173, 1143]]
(%i3) boundaries_array[171];
(%o3) {Array:  
       #(88.750549 27.14727 88.806351 27.25305 88.901367 27.282221
         88.917877 27.321039)}
(%i4) boundaries_array[173];
(%o4) {Array:
       #(91.659554 27.76511 91.6008 27.66666 91.598022 27.62499
         91.631348 27.536381 91.765533 27.45694 91.775253 27.4161 
         92.007751 27.471939 92.11441 27.28583 92.015259 27.168051
         92.015533 27.08083 92.083313 27.02277 92.112183 26.920271
         92.069977 26.86194 91.997192 26.85194 91.915253 26.893881
         91.916924 26.85416 91.8358 26.863331 91.712479 26.799999 
         91.542191 26.80444 91.492188 26.87472 91.418854 26.873329
         91.371353 26.800831 91.307457 26.778049 90.682457 26.77417
         90.392197 26.903601 90.344131 26.894159 90.143044 26.75333
         89.98996 26.73583 89.841919 26.70138 89.618301 26.72694 
         89.636093 26.771111 89.360786 26.859989 89.22081 26.81472
         89.110237 26.829161 88.921631 26.98777 88.873016 26.95499
         88.867737 27.080549 88.843307 27.108601 88.750549 
         27.14727)}
(%i5) boundaries_array[1143];
(%o5) {Array:  
       #(91.659554 27.76511 91.666924 27.88888 91.65831 27.94805 
         91.338028 28.05249 91.314972 28.096661 91.108856 27.971109
         91.015808 27.97777 90.896927 28.05055 90.382462 28.07972
         90.396088 28.23555 90.366074 28.257771 89.996353 28.32333
         89.83165 28.24888 89.58609 28.139999 89.35997 27.87166 
         89.225517 27.795 89.125793 27.56749 88.971077 27.47361
         88.917877 27.321039)}
(%i6) Bhutan_polygon: make_polygon([171,173,1143])$
(%i7) draw2d(Bhutan_polygon)$
</pre></div>
</dd></dl>




<a name="Item_003a-draw_002fdeffn_002fregion_005fboundaries"></a><dl>
<dt><a name="index-region_005fboundaries"></a>Función: <strong>region_boundaries</strong> <em>(<var>x1</var>,<var>y1</var>,<var>x2</var>,<var>y2</var>)</em></dt>
<dd><p>Detecta los segmentos poligonales almacenados en la variable global
<code>boundaries_array</code> totalmente contenidos en el rectángulo de vértices
(<var>x1</var>,<var>y1</var>) -superior izquierdo- y (<var>x2</var>,<var>y2</var>)
-inferior derecho-.
</p>
<p>Ejemplo:
</p>
<p>Devuelve los números de los segmentos necesarios para
dibujar el sur de Italia.
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) region_boundaries(10.4,41.5,20.7,35.4);
(%o2)                [1846, 1863, 1864, 1881, 1888, 1894]
(%i3) draw2d(geomap(%))$
</pre></div>
</dd></dl>




<a name="Item_003a-draw_002fdeffn_002fregion_005fboundaries_005fplus"></a><dl>
<dt><a name="index-region_005fboundaries_005fplus"></a>Función: <strong>region_boundaries_plus</strong> <em>(<var>x1</var>,<var>y1</var>,<var>x2</var>,<var>y2</var>)</em></dt>
<dd><p>Detecta los segmentos poligonales almacenados en la variable global
<code>boundaries_array</code> con al menos un vértice dentro del rectángulo 
definido por los extremos (<var>x1</var>,<var>y1</var>) -superior izquierdo- y (<var>x2</var>,<var>y2</var>)
-inferior derecho-.
</p>
<p>Ejemplo:
</p>
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) region_boundaries_plus(10.4,41.5,20.7,35.4);
(%o2) [1060, 1062, 1076, 1835, 1839, 1844, 1846, 1858,
       1861, 1863, 1864, 1871, 1881, 1888, 1894, 1897]
(%i3) draw2d(geomap(%))$
</pre></div>
</dd></dl>



<a name="Objetos-graficos-1"></a>
<h4 class="subsection">47.4.2 Objetos gráficos</h4>




<a name="Item_003a-draw_002fdeffn_002fgeomap"></a><dl>
<dt><a name="index-geomap"></a>Objeto gráfico: <strong>geomap</strong> <em>(<var>numlist</var>)</em></dt>
<dt><a name="index-geomap-1"></a>Objeto gráfico: <strong>geomap</strong> <em>(<var>numlist</var>,<var>3Dprojection</var>)</em></dt>
<dd><p>Dibuja mapas cartográficos en 2D y 3D.
</p>
<p><b>2D</b>
</p>
<p>Esta función trabaja junto con la variable global <code>boundaries_array</code>.
</p>
<p>El argumento <var>numlist</var> es una lista de números o de listas de 
números. Todos estos números deben ser enteros mayores o iguales que cero,
representando las componentes del array global <code>boundaries_array</code>.
</p>
<p>Cada componente de <code>boundaries_array</code> es un array de decimales en
coma flotante, las coordenadas de un segmento poligonal o línea
fronteriza.
</p>
<p><code>geomap (<var>numlist</var>)</code> toma los enteros de sus argumentos y 
dibuja los segmentos poligonales asociados de <code>boundaries_array</code>.
</p>
<p>Este objeto se ve afectado por las siguientes <i>opciones gráficas</i>: <code>line_width</code>, 
<code>line_type</code> y <code>color</code>.
</p>
<p>Ejemplos:
</p>
<p>Un sencillo mapa hecho a mano:
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) /* Vertices of boundary #0: {(1,1),(2,5),(4,3)} */
   ( bnd0: make_array(flonum,6),
     bnd0[0]:1.0, bnd0[1]:1.0, bnd0[2]:2.0,
     bnd0[3]:5.0, bnd0[4]:4.0, bnd0[5]:3.0 )$
(%i3) /* Vertices of boundary #1: {(4,3),(5,4),(6,4),(5,1)} */
   ( bnd1: make_array(flonum,8),
     bnd1[0]:4.0, bnd1[1]:3.0, bnd1[2]:5.0, bnd1[3]:4.0,
     bnd1[4]:6.0, bnd1[5]:4.0, bnd1[6]:5.0, bnd1[7]:1.0)$
(%i4) /* Vertices of boundary #2: {(5,1), (3,0), (1,1)} */
   ( bnd2: make_array(flonum,6),
     bnd2[0]:5.0, bnd2[1]:1.0, bnd2[2]:3.0,
     bnd2[3]:0.0, bnd2[4]:1.0, bnd2[5]:1.0 )$
(%i5) /* Vertices of boundary #3: {(1,1), (4,3)} */
   ( bnd3: make_array(flonum,4),
     bnd3[0]:1.0, bnd3[1]:1.0, bnd3[2]:4.0, bnd3[3]:3.0)$
(%i6) /* Vertices of boundary #4: {(4,3), (5,1)} */
   ( bnd4: make_array(flonum,4),
     bnd4[0]:4.0, bnd4[1]:3.0, bnd4[2]:5.0, bnd4[3]:1.0)$
(%i7) /* Pack all together in boundaries_array */
   ( boundaries_array: make_array(any,5),
     boundaries_array[0]: bnd0, boundaries_array[1]: bnd1,
     boundaries_array[2]: bnd2, boundaries_array[3]: bnd3,
     boundaries_array[4]: bnd4 )$
(%i8) draw2d(geomap([0,1,2,3,4]))$
</pre></div>

<p>El paquete auxiliar <code>worldmap</code> asigna al array global
<code>boundaries_array</code> líneas fronterizas
reales en coordenadas (longitud, latitud). Estos datos son
de dominio público y proceden de
<a href="http://www-cger.nies.go.jp/grid-e/gridtxt/grid19.html">http://www-cger.nies.go.jp/grid-e/gridtxt/grid19.html</a>.
El paquete <code>worldmap</code> también define fronteras 
de países, continentes y líneas
costeras a partir de las
componentes de <code>boundaries_array</code> (véase el
fichero <code>share/draw/worldmap.mac</code> para más
información). El paquete <code>worldmap</code> carga
automáticamente el paquete <code>draw</code>.
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) c1: gr2d(geomap([Canada,United_States,
                       Mexico,Cuba]))$
(%i3) c2: gr2d(geomap(Africa))$
(%i4) c3: gr2d(geomap([Oceania,China,Japan]))$
(%i5) c4: gr2d(geomap([France,Portugal,Spain,
                       Morocco,Western_Sahara]))$
(%i6) draw(columns  = 2,
           c1,c2,c3,c4)$
</pre></div>

<p><code>worldmap</code> se puede utilizar para dibujar países
como polígonos. En este caso, ya no será necesario
hacer uso del objeto gráfico <code>geomap</code>, pero sí de
<code>polygon</code>. Puesto que en este caso se utilizan listas en lugar de
arrays, los mapas se reproducirán de forma más lenta. Véanse
también <code>make_poly_country</code> y <code>make_poly_continent</code> para
comprender el siguiente código.
</p><div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) mymap: append(
   [color      = white],  /* borders are white */
   [fill_color = red],             make_poly_country(Bolivia),
   [fill_color = cyan],            make_poly_country(Paraguay),
   [fill_color = green],           make_poly_country(Colombia),
   [fill_color = blue],            make_poly_country(Chile),
   [fill_color = &quot;#23ab0f&quot;],       make_poly_country(Brazil),
   [fill_color = goldenrod],       make_poly_country(Argentina),
   [fill_color = &quot;midnight-blue&quot;], make_poly_country(Uruguay))$
(%i3) apply(draw2d, mymap)$
</pre></div>

<p><b>3D</b>
</p>
<p><code>geomap (<var>numlist</var>)</code> proyecta los mapas sobre la esfera de radio 1
y centro (0,0,0). Es posible cambiar la esfera o el tipo de proyección haciendo
uso de <code>geomap (<var>numlist</var>,<var>3Dprojection</var>)</code>.
</p>
<p>Proyecciones 3D disponibles:
</p>
<ul>
<li> <code>[spherical_projection,<var>x</var>,<var>y</var>,<var>z</var>,<var>r</var>]</code>: proyecta los mapas sobre la esfera de radio
<var>r</var> y centro (<var>x</var>,<var>y</var>,<var>z</var>).
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) draw3d(geomap(Australia), /* default projection */
             geomap(Australia,
                    [spherical_projection,2,2,2,3]))$
</pre></div>

</li><li> <code>[cylindrical_projection,<var>x</var>,<var>y</var>,<var>z</var>,<var>r</var>,<var>rc</var>]</code>: re-proyecta mapas esféricos
sobre el cilindro de radio <var>rc</var> cuyo eje pasa a través de los polos del globo
de radio <var>r</var> y centro (<var>x</var>,<var>y</var>,<var>z</var>).
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) draw3d(geomap([America_coastlines,Eurasia_coastlines],
                    [cylindrical_projection,2,2,2,3,4]))$
</pre></div>

</li><li> <code>[conic_projection,<var>x</var>,<var>y</var>,<var>z</var>,<var>r</var>,<var>alpha</var>]</code>: re-proyecta mapas esféricos sobre los
conos de ángulo <var>alpha</var>, cuyos ejes pasan a través de los polos del globo de radio <var>r</var> 
y centro (<var>x</var>,<var>y</var>,<var>z</var>). Ambos conos, norte y sur, son tangentes a la esfera.
<div class="example">
<pre class="example">(%i1) load(&quot;worldmap&quot;)$
(%i2) draw3d(geomap(World_coastlines,
                    [conic_projection,0,0,0,1,90]))$
</pre></div>
</li></ul>

<p>En <a href="http://riotorto.users.sf.net/gnuplot/geomap">http://riotorto.users.sf.net/gnuplot/geomap</a>
hay ejemplos más elaborados.
</p></dd></dl>


<hr>
<div class="header">
<p>
Previous: <a href="maxima_201.html#Funciones-y-variables-para-picture" accesskey="p" rel="previous">Funciones y variables para picture</a>, Subir: <a href="maxima_198.html#draw" accesskey="u" rel="up">draw</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="&Iacute;ndice general" rel="contents">&Iacute;ndice general</a>][<a href="maxima_304.html#g_t_00cdndice-de-Funciones-y-Variables" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>]</p>
</div>



</body>
</html>
