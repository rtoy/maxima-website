<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Manual de Maxima 5.46.0: Funciones y variables para depurado</title>

<meta name="description" content="Manual de Maxima 5.46.0: Funciones y variables para depurado">
<meta name="keywords" content="Manual de Maxima 5.46.0: Funciones y variables para depurado">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="maxima_toc.html#Top" rel="start" title="Top">
<link href="maxima_304.html#g_t_00cdndice-de-Funciones-y-Variables" rel="index" title="Índice de Funciones y Variables">
<link href="maxima_toc.html#SEC_Contents" rel="contents" title="&Iacute;ndice General">
<link href="maxima_167.html#Depurado" rel="up" title="Depurado">
<link href="maxima_171.html#augmented_005flagrangian" rel="next" title="augmented_lagrangian">
<link href="maxima_169.html#Claves-de-depuraci_00f3n" rel="previous" title="Claves de depuración">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 1em; padding-bottom: 1em;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%; display: block; margin-left: auto; margin-right: auto}

-->
</style>

<link rel="icon" href="figures/favicon.ico">

</head>

<body lang="es" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Funciones-y-variables-para-depurado"></a>
<div class="header">
<p>
Previous: <a href="maxima_169.html#Claves-de-depuraci_00f3n" accesskey="p" rel="previous">Claves de depuración</a>, Subir: <a href="maxima_167.html#Depurado" accesskey="u" rel="up">Depurado</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="&Iacute;ndice general" rel="contents">&Iacute;ndice general</a>][<a href="maxima_304.html#g_t_00cdndice-de-Funciones-y-Variables" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>]</p>
</div>
<a name="Funciones-y-variables-para-depurado-1"></a>
<h3 class="section">38.3 Funciones y variables para depurado</h3>


<a name="Item_003a-Debugging_002ees_002fdefvr_002fdebugmode"></a><dl>
<dt><a name="index-debugmode"></a>Variable opcional: <strong>debugmode</strong></dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Cuando en Maxima ocurre un error, Maxima inicializará el depurador si <code>debugmode</code> tiene el valor <code>true</code>. 
El usuario puede ingresar comandos para examinar la pila de llamadas, los puntos de interrupción; en pocas palabras ir a través del código de Maxima. Vea <code>debugging</code> para una lista de los comandos del depurador.  
</p>
<p>Habilitando <code>debugmode</code> no se capturarán los errores tipo Lisp. 
</p>

</dd></dl>


<a name="Item_003a-Debugging_002ees_002fdefvr_002frefcheck"></a><dl>
<dt><a name="index-refcheck"></a>Variable opcional: <strong>refcheck</strong></dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Cuando <code>refcheck</code> vale <code>true</code>, Maxima imprime un mensaje cada vez que una variable es utilizada por vez primera en un cálculo.
</p>
</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdefvr_002fsetcheck"></a><dl>
<dt><a name="index-setcheck"></a>Variable opcional: <strong>setcheck</strong></dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Cuando el valor de <code>setcheck</code> es una lista de variables (se admite que tengan subíndices) Maxima devuelve un mensaje indicando si los valores que han sido asignados a las variables lo han sido con el operador ordinario <code>:</code>, o con el operador de asignación <code>::</code> o como resultado de haberse realizado una llamada de función, pero en ningún caso cuando la asignación haya sido hecha mediante los operadores <code>:=</code> o <code>::=</code>. El mensaje contiene el nombre de la variable y su valor.
</p>
<p>La variable <code>setcheck</code> admite también los valores <code>all</code> o <code>true</code> con lo que el informe incluirá todas las variables.
</p>
<p>Cada nueva asignación de <code>setcheck</code> establece una nueva lista de variables a ser monitorizada, de forma que cualquier otra variable previamente asignada a <code>setcheck</code> es olvidada.
</p>
<p>Los nombres asignados a <code>setcheck</code> deben estar precedidos del apóstrofo <code>'</code> a fin de evitar que las variables sean evaluadas antes de ser almacenadas en <code>setcheck</code>. Por ejemplo, si <code>x</code>, <code>y</code> y <code>z</code> ya guardan algún valor entoces se hará
</p>
<div class="example">
<pre class="example">setcheck: ['x, 'y, 'z]$
</pre></div>

<p>para colocarlas en la lista de variables a monitorizar.
</p>
<p>No se generará ninguna salida cuando una variable de la lista <code>setcheck</code> sea asignada a ella misma, como en <code>X: 'X</code>.
</p>
</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdefvr_002fsetcheckbreak"></a><dl>
<dt><a name="index-setcheckbreak"></a>Variable opcional: <strong>setcheckbreak</strong></dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Si <code>setcheckbreak</code> es igual <code>true</code>, Maxima se detendrá siempre que a una variable de la lista <code>setcheck</code> se le asigne un nuevo valor. La detención tendrá lugar justo antes de hacerse la asignación. En ese momento <code>setval</code> guarda el valor que se le va a dar a la variable. Entonces el usuario podrá darle un valor diferente pasándoselo a la variable <code>setval</code>.
</p>
<p>Véanse también <code>setcheck</code> y <code>setval</code>.
</p>
</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdefvr_002fsetval"></a><dl>
<dt><a name="index-setval"></a>Variable del sistema: <strong>setval</strong></dt>
<dd>
<p>Guarda el valor que va a ser asignado a una variable cuando <code>setcheckbreak</code> realiza una detención. Entonces se podrá asignarle otro valor pasándoselo previamente a <code>setval</code>.
</p>
<p>Véanse también <code>setcheck</code> y <code>setcheckbreak</code>.
</p>
</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdeffn_002ftimer"></a><dl>
<dt><a name="index-timer"></a>Función: <strong>timer</strong> <em>(<var>f_1</var>, ..., <var>f_n</var>)</em></dt>
<dt><a name="index-timer-1"></a>Función: <strong>timer</strong> <em>(all)</em></dt>
<dt><a name="index-timer-2"></a>Función: <strong>timer</strong> <em>()</em></dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>, <code>timer</code> coloca cada una de ellas en la lista de funciones para las cuales se generarán estadísticas relativas al tiempo de cómputo. Así, <code>timer(f)$ timer(g)$</code> coloca a <code>f</code> y luego a <code>g</code> en dicha lista de forma acumulativa.
</p>
<p>La sentencia <code>timer(all)</code> coloca todas las funciones de usuario 
(las referenciadas por la variable global <code>functions</code>) en la lista
de funciones cuyos tiempos de ejecución se quieren monitorizar.
</p>
<p>Si no se le pasan argumentos a <code>timer</code> se obtendrá la lista de funciones cuyos tiempos de ejecución se quieren monitorizar.
</p>
<p>Maxima almacena la duración del cómputo de cada función de la lista, de forma que <code>timer_info</code> devolverá las estadísticas correspondientes, incluyendo el tiempo medio de cada llamada a la función, el número de llamadas realizadas y el tiempo total transcurrido. La instrucción <code>untimer</code> borra las funciones de la lista.
</p>
<p>La función <code>timer</code> no evalúa sus argumentos, de forma que <code>f(x) := x^2$ g:f$ timer(g)$</code> no coloca a <code>f</code> en la lista.
</p>
<p>Si <code>trace(f)</code> está activada, entonces <code>timer(f)</code> está desactivada; <code>trace</code> y <code>timer</code> no pueden estar operativas al mismo tiempo.
</p>
<p>Véase también <code>timer_devalue</code>.
</p>
</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdeffn_002funtimer"></a><dl>
<dt><a name="index-untimer"></a>Función: <strong>untimer</strong> <em>(<var>f_1</var>, ..., <var>f_n</var>)</em></dt>
<dt><a name="index-untimer-1"></a>Función: <strong>untimer</strong> <em>()</em></dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>, <code>untimer</code> las elimina de la lista de funciones cuyos tiempos de ejecución se quiere monitorizar.
</p>
<p>Si no se le suministran argumentos, <code>untimer</code> borra completamente la lista.
</p>
<p>Tras la ejecución de <code>untimer (f)</code>, <code>timer_info (f)</code> aún devuelve las estadísticas de tiempo previamente registradas, pero <code>timer_info()</code> (sin argumentos) no devuelve información sobre aquellas funciones que ya no están en la lista. La ejecución de <code>timer (f)</code> inicializa todas las estadísticas a cero y coloca <code>f</code> nuevamente en la lista.
</p>
</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdefvr_002ftimer_005fdevalue"></a><dl>
<dt><a name="index-timer_005fdevalue"></a>Variable opcional: <strong>timer_devalue</strong></dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Si <code>timer_devalue</code> es igual a <code>true</code>, Maxima le resta a cada función cuyos tiempos de ejecución se quiere monitorizar el tiempo gastado en llamadas a otras funciones presentes también en la lista de monitorización. En caso contrario, los tiempos que se obtienen para cada función incluyen también los consumidos en otras funciones. Nótese que el tiempo consumido en llamadas a otras funciones que no están en la lista de monitorización no se resta del tiempo total.
</p>
<p>Véanse también <code>timer</code> y <code>timer_info</code>.
</p>
</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdeffn_002ftimer_005finfo"></a><dl>
<dt><a name="index-timer_005finfo"></a>Función: <strong>timer_info</strong> <em>(<var>f_1</var>, ..., <var>f_n</var>)</em></dt>
<dt><a name="index-timer_005finfo-1"></a>Función: <strong>timer_info</strong> <em>()</em></dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>, <code>timer_info</code> devuelve una matriz con información relativa a los tiempos de ejecución de cada una de estas funciones. Sin argumentos, <code>timer_info</code> devuelve la información asociada a todas las funciones cuyos tiempos de ejecución se quiere monitorizar.
</p>
<p>La matriz devuelta por <code>timer_info</code> incluye los nombres de las funciones, tiempo de ejecución en cada llamada, número de veces que ha sido llamada, tiempo total de ejecución y tiempo consumido en la recolección de basura, <code>gctime</code> (del inglés, &quot;garbage collection time&quot;) en la versión original de Macsyma, aunque ahora toma el valor constante cero.
</p>
<p>Los datos con los que <code>timer_info</code> construye su respuesta pueden obtenerse también con la función <code>get</code>:
</p>
<div class="example">
<pre class="example">get(f, 'calls);  get(f, 'runtime);  get(f, 'gctime);
</pre></div>

<p>Véase también <code>timer</code>.
</p>
</dd></dl>


<a name="Item_003a-Debugging_002ees_002fdeffn_002ftrace"></a><dl>
<dt><a name="index-trace"></a>Función: <strong>trace</strong> <em>(<var>f_1</var>, ..., <var>f_n</var>)</em></dt>
<dt><a name="index-trace-1"></a>Función: <strong>trace</strong> <em>(all)</em></dt>
<dt><a name="index-trace-2"></a>Función: <strong>trace</strong> <em>()</em></dt>
<dd>
<p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>, <code>trace</code> imprime información sobre depuración cada vez que estas funciones son llamadas; <code>trace(f)$ trace(g)$</code> coloca de forma acumulativa a <code>f</code> y luego a <code>g</code> en la lista de funciones a ser rastradas.
</p>
<p>La sentencia <code>trace(all)</code> coloca todas las funciones de usuario 
(las referenciadas por la variable global <code>functions</code>) en la lista
de funciones a ser rastreadas.
</p>
<p>Si no se suministran argumentos, <code>trace</code> devuelve una lista con todas las funciones a ser rastreadas.
</p>
<p>La función <code>untrace</code> desactiva el rastreo. Véase también <code>trace_options</code>.
</p>
<p>La función <code>trace</code> no evalúa sus argumentos, de forma que <code>f(x) := x^2$ g:f$ trace(g)$</code> no coloca a <code>f</code> en la lista de rastreo.
</p>
<p>Cuando una función se redefine es eliminada de la lista de rastreo. Así, tras  <code>timer(f)$ f(x) := x^2$</code>, la función <code>f</code> dejará de estar en dicha lista.
</p>
<p>Si <code>timer (f)</code> está activado, entonces <code>trace (f)</code> está desactivado, ya que <code>trace</code> y <code>timer</code> no pueden estar ambos activos para la misma función.
</p>
</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdeffn_002ftrace_005foptions"></a><dl>
<dt><a name="index-trace_005foptions"></a>Función: <strong>trace_options</strong> <em>(<var>f</var>, <var>option_1</var>, ..., <var>option_n</var>)</em></dt>
<dt><a name="index-trace_005foptions-1"></a>Función: <strong>trace_options</strong> <em>(<var>f</var>)</em></dt>
<dd>
<p>Establece las opciones de rastreo para la función <var>f</var>. Cualquier otra opción previamente especificada queda reemplazada por las nuevas. La ejecución de <code>trace_options (<var>f</var>, ...)</code> no tiene ningún efecto, a menos que se haya invocado previamente a <code>trace (<var>f</var>)</code> (es indiferente que esta invocación sea anterior o posterior a <code>trace_options</code>). 
</p>
<p><code>trace_options (<var>f</var>)</code> inicializa todas las opciones a sus valores por defecto.
</p>
<p>Las claves de opciones son:
</p>
<ul>
<li> <code>noprint</code>:
No se imprime mensaje alguno ni a la entrada ni a la salida de la función.
</li><li> <code>break</code>:
Coloca un punto de referencia antes de que la función comience a ejecutarse y otro después de que termine su ejecución. Véase <code>break</code>.
</li><li> <code>lisp_print</code>:
Muestra los argumentos y valores retornados como objetos de Lisp.
</li><li> <code>info</code>:
Imprime <code>-&gt; true</code> tanto a la entrada como a la salida de la función.
</li><li> <code>errorcatch</code>:
Detecta errores, otorgando la posibilidad de marcar un error, reintentar la llamada a la función o especificar un valor de retorno.
</li></ul>

<p>Las opciones de rastreo se especifican de dos formas. La única presencia de la clave de opción ya activa la opción. (Nótese que la opción <var>foo</var> no se activa mediante <code><var>foo</var>: true</code> u otra forma similar; se tendrá en cuenta también que las claves no necesitan ir precedidas del apóstrofo.) Especificando la clave de opción junto con una función de predicado se hace que la opción quede condicionada al predicado.
</p>
<p>La lista de argumentos para las funciones de predicado es siempre <code>[level, direction, function, item]</code> donde <code>level</code> es el nivel de recursión para la función,  <code>direction</code> puede ser tanto <code>enter</code> como <code>exit</code>, <code>function</code> es el nombre de la función  y <code>item</code> es la lista de argumentos (a la entrada) o el valor de retorno (a la salida).
</p>
<p>A continuación un ejemplo de opciones de rastreo no condicionales:
</p>
<div class="example">
<pre class="example">(%i1) ff(n) := if equal(n, 0) then 1 else n * ff(n - 1)$

(%i2) trace (ff)$

(%i3) trace_options (ff, lisp_print, break)$

(%i4) ff(3);
</pre></div>

<p>Para la misma función, con la opción <code>break</code> condicionada a un predicado:
</p>
<div class="example">
<pre class="example">(%i5) trace_options (ff, break(pp))$

(%i6) pp (level, direction, function, item) := block (print (item),
    return (function = 'ff and level = 3 and direction = exit))$

(%i7) ff(6);
</pre></div>

</dd></dl>

<a name="Item_003a-Debugging_002ees_002fdeffn_002funtrace"></a><dl>
<dt><a name="index-untrace"></a>Función: <strong>untrace</strong> <em>(<var>f_1</var>, ..., <var>f_n</var>)</em></dt>
<dt><a name="index-untrace-1"></a>Función: <strong>untrace</strong> <em>()</em></dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>,
<code>untrace</code> desactiva el rastreo previamente activado por la función <code>trace</code>. Si no se aportan argumentos, <code>untrace</code> desactiva el rastreo de todas las funciones.
</p>
<p>La llamada a <code>untrace</code> devuelve una lista con las funciones para las que el rastreo se ha desactivado.
</p>
</dd></dl>



<hr>
<div class="header">
<p>
Previous: <a href="maxima_169.html#Claves-de-depuraci_00f3n" accesskey="p" rel="previous">Claves de depuración</a>, Subir: <a href="maxima_167.html#Depurado" accesskey="u" rel="up">Depurado</a> &nbsp; [<a href="maxima_toc.html#SEC_Contents" title="&Iacute;ndice general" rel="contents">&Iacute;ndice general</a>][<a href="maxima_304.html#g_t_00cdndice-de-Funciones-y-Variables" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>]</p>
</div>



</body>
</html>
